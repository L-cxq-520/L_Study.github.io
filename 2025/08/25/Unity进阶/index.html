<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="x5-fullscreen" content="true">
<meta name="full-screen" content="yes">
<meta name="theme-color" content="#317EFB" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" name="viewport">
<meta name="description" content="Unity进阶Unity进阶CSharp知识补充Unity进阶ScriptableObjectUnity进阶ScriptableObject概述思维导图  概述主要讲解内容  ScriptableObject是什么 ScriptableObject的好处 我们将如何学习它  ScriptableObject是什么 ScriptableObject是Unity提供的一个数据配置存储基类它是一个可以用">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity进阶">
<meta property="og:url" content="https://l-cxq-520.github.io/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Unity进阶Unity进阶CSharp知识补充Unity进阶ScriptableObjectUnity进阶ScriptableObject概述思维导图  概述主要讲解内容  ScriptableObject是什么 ScriptableObject的好处 我们将如何学习它  ScriptableObject是什么 ScriptableObject是Unity提供的一个数据配置存储基类它是一个可以用">
<meta property="og:locale">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="og:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">
<meta property="article:published_time" content="2025-08-25T14:17:55.000Z">
<meta property="article:modified_time" content="2025-12-05T07:14:49.153Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="游戏引擎">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://l-cxq-520.github.io/L_Study.github.io/img/404.jpg">


<title >Unity进阶</title>

<!-- Favicon -->

    <link href='/L_Study.github.io/img/favicon.svg?v=2.2.4' rel='icon' type='image/png' sizes='16x16' ></link>


    <link href='/L_Study.github.io/img/favicon.svg?v=2.2.4' rel='icon' type='image/png' sizes='32x32' ></link>




<!-- Plugin -->




    
<link rel="stylesheet" href="/L_Study.github.io/css/plugins/bootstrap.row.css">

    
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.css">

    
    




<!-- Icon -->

    
<link rel="stylesheet" href="/L_Study.github.io/css/plugins/font-awesome.min.css">




<!-- Variable -->
<script>window.ASYNC_CONFIG = {"hostname":"l-cxq-520.github.io","author":"John Doe","root":"/L_Study.github.io/","typed_text":["Web Developer"],"theme_version":"2.2.4","theme":{"switch":true,"default":"style-light"},"favicon":{"logo":"/img/favicon.svg","icon16":"/img/favicon.svg","icon32":"/img/favicon.svg","apple_touch_icon":null,"webmanifest":null,"visibilitychange":false,"hidden":"/failure.ico","show_text":"(/≧▽≦/)咦！又好了！","hide_text":"(●—●)喔哟，崩溃啦！"},"i18n":{"placeholder":"搜索文章...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）","author":"本文作者：","copyright_link":"本文链接：","copyright_license_title":"版权声明：","copyright_license_content":"本博客所有文章除特别声明外，均默认采用 undefined 许可协议。","copy_success":"复制成功","copy_failure":"复制失败","open_read_mode":"进入阅读模式","exit_read_mode":"退出阅读模式","notice_outdate_message":"距离上次更新已经 undefined 天了, 文章内容可能已经过时。","sticky":"置顶","just":"刚刚","min":"分钟前","hour":"小时前","day":"天前","month":"个月前"},"swup":false,"plugin":{"flickr_justified_gallery":"https://unpkg.com/flickr-justified-gallery@latest/dist/fjGallery.min.js"},"icons":{"sun":"far fa-sun","moon":"far fa-moon","play":"fas fa-play","email":"far fa-envelope","next":"fas fa-arrow-right","calendar":"far fa-calendar-alt","clock":"far fa-clock","user":"far fa-user","back_top":"fas fa-arrow-up","close":"fas fa-times","search":"fas fa-search","reward":"fas fa-hand-holding-usd","toc_tag":"fas fa-th-list","read":"fas fa-book-reader","arrows":"fas fa-arrows-alt-h","double_arrows":"fas fa-angle-double-down","copy":"fas fa-copy"},"icontype":"font","highlight":{"plugin":"highlighjs","theme":true,"copy":true,"lang":true,"title":"default","height_limit":200},"toc":{"post_title":false},"live_time":{"start_time":"","prefix":"博客已萌萌哒运行 undefined 天"},"danmu":{"enable":false,"el":".trm-banner"}};</script>
<script id="async-page-config">window.PAGE_CONFIG = {"isPost":true,"isHome":false,"postUpdate":"2025-12-05 15:14:49"};</script>

<!-- Theme mode css -->
<link data-swup-theme rel="stylesheet" href="/L_Study.github.io/css/index.css?v=2.2.4" id="trm-switch-style">
<script>
    let defaultMode = ASYNC_CONFIG.theme.default !=='auto' ?  ASYNC_CONFIG.theme.default : (window.matchMedia("(prefers-color-scheme: light)").matches ? 'style-light' : 'style-dark')
    let catchMode = localStorage.getItem('theme-mode') || defaultMode;
    let type = catchMode === 'style-dark' ? 'add' : 'remove';
    document.documentElement.classList[type]('dark')
</script>

<!-- CDN -->


    
    



<!-- Site Analytics -->

 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>

  <!-- app wrapper -->
  <div class="trm-app-frame">

    <!-- page preloader -->
    <div class="trm-preloader">
    <div class="trm-holder">
        <div class="preloader">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <!-- page preloader end -->

    <!-- change mode preloader -->
    <div class="trm-mode-swich-animation-frame">
    <div class="trm-mode-swich-animation">
        <i class="i-sun"><i class="iconfont far fa-sun"></i></i>
        <div class="trm-horizon"></div>
        <i class="i-moon"><i class="iconfont far fa-moon"></i></i>
    </div>
</div>
    <!-- change mode preloader end -->

      <!-- scroll container -->
      <div id="trm-dynamic-content" class="trm-swup-animation">
        <div id="trm-scroll-container" class="trm-scroll-container" style="opacity: 0">
            <!-- top bar -->
            <header class="trm-top-bar">
	<div class="container">
		<div class="trm-left-side">
			<!-- logo -->
<a href="/L_Study.github.io/" class="trm-logo-frame trm-anima-link">
    
        <img alt="logo" src="/L_Study.github.io/img/favicon.svg">
    
    
        <div class="trm-logo-text">
            Unity<span>Study</span>
        </div>
    
</a>
<!-- logo end -->
		</div>
		<div class="trm-right-side">
			<!-- menu -->
<div class="trm-menu">
    <nav>
        <ul>
            
            <li class="menu-item-has-children ">
                <a  href="/L_Study.github.io/" target="">
                    首页
                </a>
                
                <ul>
                    
                    <li>
                        <a  href="/L_Study.github.io/archives2/" target="">
                            archives2
                        </a>
                    </li>
                    
                </ul>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/L_Study.github.io/archives/" target="">
                    归档
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/L_Study.github.io/categories/" target="">
                    分类
                </a>
                
            </li>
            
            <li class="menu-item-has-children ">
                <a  href="/L_Study.github.io/tags/" target="">
                    标签
                </a>
                
            </li>
            
        </ul>
    </nav>
</div>
<!-- menu end -->
			
    <!-- mode switcher place -->
    <div class="trm-mode-switcher-place">
        <div class="trm-mode-switcher">
            <i class="iconfont far fa-sun"></i>
            <input class="tgl tgl-light" id="trm-swich" type="checkbox">
            <label class="trm-swich" for="trm-swich"></label>
            <i class="iconfont far fa-moon"></i>
        </div>
    </div>
    <!-- mode switcher place end -->

			
		</div>
		<div class="trm-menu-btn">
			<span></span>
		</div>
	</div>
</header>
            <!-- top bar end -->

            <!-- body -->
            
<div class="trm-content-start">
    <!-- banner -->
    <div class="trm-banner">
    
    <!-- banner cover -->
    <img style="object-position:top;object-fit:cover;" alt="banner" class="trm-banner-cover" src="/L_Study.github.io/img/banner.png">
    <!-- banner cover end -->
    

    <!-- banner content -->
    <div class="trm-banner-content trm-overlay">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-4"></div>
                
                <div class="col-lg-8">

                    <!-- banner title -->
                    <div class="trm-banner-text ">
                        <div class="trm-label trm-mb-20">
                            NEWS LETTER
                        </div>
                        <h1 class="trm-mb-30 trm-hsmb-font">
                            Unity进阶
                        </h1>

                        
                            <ul class="trm-breadcrumbs trm-label">
                                <li>
                                    <a href="/L_Study.github.io/" class="trm-anima-link">Home</a>
                                </li>
                                <li>
                                    <span>
                                        2025
                                    </span>
                                </li>
                            </ul>
                        
                    </div>
                    <!-- banner title end -->

                    <!-- scroll hint -->
                    <span id="scroll-triger" class="trm-scroll-hint-frame">
                        <div class="trm-scroll-hint"></div>
                        <span class="trm-label">Scroll down</span>
                    </span>
                    <!-- scroll hint end -->

                </div>
            </div>
        </div>
    </div>
    <!-- banner content end -->
</div>
    <!-- banner end -->
    <div class="container">
        <div class="row">
            
                <div class="trm-page-sidebar col-lg-4 hidden-sm">
                    <!-- main card -->
                    <div class="trm-main-card-frame trm-sidebar">
    <div class="trm-main-card"> 
        <!-- card header -->
<div class="trm-mc-header">
    <div class="trm-avatar-frame trm-mb-20">
        <img alt="Avatar" class="trm-avatar" src="/L_Study.github.io/img/Icon.JPG">
    </div>
    <h5 class="trm-name trm-mb-15">
        L
    </h5>
    
        <div class="trm-label">
            I`m
            <span class="trm-typed-text">
                <!-- Words for theme.user.typedText -->
            </span>
        </div>
    
</div>
<!-- card header end -->
        <!-- sidebar social -->

<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<div class="trm-social">
    
        <a href="https://github.com" title="Github" rel="nofollow" target="_blank">
            <i class="iconfont fab fa-github"></i>
        </a>
    
</div>

<!-- sidebar social end -->
        <!-- info -->
<div class="trm-divider trm-mb-40 trm-mt-40"></div>
<ul class="trm-table trm-mb-20">
    
        <li>
            <div class="trm-label">
                Residence:
            </div>
            <div class="trm-label trm-label-light">
                Mars
            </div>
        </li>
    
</ul>
<!-- info end -->

        
    <div class="trm-divider trm-mb-40 trm-mt-40"></div>
    <!-- action button -->
    <div class="text-center">
        <a href="mailto:admin@imalun.com" class="trm-btn">
            联系我
            <i class="iconfont far fa-envelope"></i>
        </a>
    </div>
    <!-- action button end -->

    </div>
</div>
                    <!-- main card end -->
                </div>
            
            <div class="trm-page-content col-lg-8">
                <div id="trm-content" class="trm-content">
                    <div class="trm-post-info row hidden-sm">
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-calendar-alt trm-icon"></i><br>
            08/25
        </div>
    </div>
    <div class="col-sm-4">
        <div class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-clock trm-icon"></i><br>
            22:17
        </div>
    </div>
    <div class="col-sm-4">
        <div id="post-author" class="trm-card trm-label trm-label-light text-center">
            <i class="iconfont far fa-user trm-icon"></i><br>
            John Doe
        </div>
    </div>
</div>
<div class="trm-card ">
    <article id="article-container" class="trm-publication">
    <h1 id="Unity进阶"><a href="#Unity进阶" class="headerlink" title="Unity进阶"></a>Unity进阶</h1><h1 id="Unity进阶CSharp知识补充"><a href="#Unity进阶CSharp知识补充" class="headerlink" title="Unity进阶CSharp知识补充"></a>Unity进阶CSharp知识补充</h1><h1 id="Unity进阶ScriptableObject"><a href="#Unity进阶ScriptableObject" class="headerlink" title="Unity进阶ScriptableObject"></a>Unity进阶ScriptableObject</h1><h2 id="Unity进阶ScriptableObject概述"><a href="#Unity进阶ScriptableObject概述" class="headerlink" title="Unity进阶ScriptableObject概述"></a>Unity进阶ScriptableObject概述</h2><p><strong><font size="4">思维导图</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.png" class="" title="Unity进阶之ScriptableObject_思维导图"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<p><strong><font size="4">概述主要讲解内容</font></strong></p>
<ol>
<li>ScriptableObject是什么</li>
<li>ScriptableObject的好处</li>
<li>我们将如何学习它</li>
</ol>
<p><strong><font size="4">ScriptableObject是什么</font></strong></p>
<p>ScriptableObject是Unity提供的一个数据配置存储基类<br>它是一个可以用来保存大量数据的数据容器<br>就像是可以自定义的数据资源文件<br>它是一个类似MonoBehavior的基类<br>需要我们继承它来进行使用<br>它的主要作用是</p>
<ul>
<li>1.数据复用（多个对象用同一个数据）</li>
<li>2.配置文件（配置游戏中的数据）</li>
<li>3.编辑模式下的数据持久化</li>
</ul>
<p><strong><font size="4">数据复用</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span>:<span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//速度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="comment">//攻击力</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> atk;</span><br><span class="line">    <span class="comment">//生命周期</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> lifeTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>比如一个子弹对象<br>以前我们通过面向对象的思想去做的话<br>会写一个继承MonoBehaviour的脚本<br>相关的属性都会在这里声明<br>然后挂载到子弹模型预设体上<br>这样每次实例化一个子弹，如果数据不变<br>那么对内存来说，是有一定浪费的<br>因为每一个子弹预设体上都有该脚本<br>那么所有的属性都会分配一次内存<br>通过使用ScriptableObject可以有效避免内存的浪费</p>
<p><strong><font size="4">配置文件</font></strong><br>以前我们要通过配置文件配置游戏相关的数据，比如玩家数据、怪物数据等等<br>是通过数据持久化相关知识来完成的，我们一般会通过xml、json、excel等方式来配置游戏数据<br>相对来说都是在Unity外部通过其它格式的文件对数据进行配置<br>而通过ScriptableObject我们可以直接在Unity内部<br>在lnspector窗口中就可以进行数据的配置</p>
<p><strong><font size="4">编辑模式下的数据持久化</font></strong><br>当我们在编辑模式下修改了继承ScriptableObject对象的数据文件内容时<br>这些修改将被记录下来<br>因此在编辑模式下ScriptableObject是具有数据持久化特性的<br>但是需要注意的是，在发布运行时<br>ScriptableObject不具备持久化特性（修改数据对象，并不会保存在本地）</p>
<p><strong><font size="4">ScriptableObject的好处</font></strong><br>1.我们可以直接在Inspector窗口编辑配置数据，可以利用它来做配置文件<br>2.处理重复数据，减少数据拷贝时造成的内存占用，可以利用它来做公共数据<br>3.可以更方便的处理数据带来的多态行为</p>
<p><strong><font size="4">总结</font></strong></p>
<p>1.ScriptableObject是什么</p>
<ul>
<li>Unity提供的一个数据存储基类</li>
</ul>
<p>2.ScriptableObject的好处</p>
<ul>
<li>文件配置、数据复用、</li>
<li>更好的处理数据带来的多态行为</li>
</ul>
<p>3.我们将如何学习它</p>
<ul>
<li>理论+习题+实践</li>
<li>层层递进、由浅入深</li>
</ul>
<h2 id="创建ScriptableObject数据文件"><a href="#创建ScriptableObject数据文件" class="headerlink" title="创建ScriptableObject数据文件"></a>创建ScriptableObject数据文件</h2><p><strong><font size="4">自定义ScriptableObject数据容器</font></strong></p>
<p><strong><font size="3">自定义ScriptableObject数据容器的步骤</font></strong><br>1.继承ScriptableObject类<br>2.在该类中声明成员（变量、方法等）</p>
<blockquote>
<p>注意：声明后，我们可以在Inspector窗口中看到变化。我们可以在其中进行设置，但是这些设置都是默认数据，并没有真正使用它们。这些关联信息都是通过脚本文件对应的Unity配置文件meta进行记录的。目前该数据只是一个数据容器模板。有了它我们之后才能根据它的信息创建对应的数据资源文件。</p>
</blockquote>
<p><strong><font size="3">继承ScriptableObject类,声明成员（变量、方法等）</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyData</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//声明成员时需要注意</span></span><br><span class="line">    <span class="comment">//我们可以声明任何类型的成员变量</span></span><br><span class="line">    <span class="comment">//但是需要注意：如果希望之后在Inspector窗口中能够编辑它</span></span><br><span class="line">    <span class="comment">//那你在这里声明的变量规则 要和 MonoBehavior当中public变量的规则是一样的</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> f;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> b;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> GameObject obj;</span><br><span class="line">    <span class="keyword">public</span> Material m;</span><br><span class="line">    <span class="keyword">public</span> AudioClip audioClip;</span><br><span class="line">    <span class="keyword">public</span> VideoClip videoClip;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">可以在Inspector窗口直接关联这些变量的默认变量，默认变量的关联信息在meta中被记录。</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_Inspector%E9%9D%A2%E6%9D%BF.png" class="" title="ScriptableObject_Inspector面板"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_meta%E6%96%87%E4%BB%B6.png" class="" title="ScriptableObject_meta文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">根据自定义的ScriptableObject数据容器创建数据文件</font></strong></p>
<blockquote>
<p>注意：该创建功能，其实就是根据自定义数据容器类创建了一个配置文件。该文件中记录了对应的数据容器类信息，以及其中变量关联的信息。之后我们在使用它时，本质上也是通过反射创建对象进行使用。</p>
</blockquote>
<p><strong><font size="3">创建数据文件具体的方法有两种：</font></strong></p>
<p>为类添加CreateAssetMenu通过菜单创建资源特性</p>
<ul>
<li>为类添加CreateAssetMenu通过菜单创建资源特性 [CreateAssetMenu(fileName &#x3D; “默认文件名”, menuName &#x3D; “在Asset&#x2F;Create菜单中显示的名字”, order &#x3D; 再Asset&#x2F;Create菜单中的位置(多个时可以通过它来调整顺序))]</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="meta">CreateAssetMenu(fileName =<span class="string">&quot;MrTangData&quot;</span>, menuName =<span class="string">&quot;ScriptableObject/我的数据&quot;</span>, order = 0)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyData</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>加了这个特性之后就可以在菜单栏创建选项中创建自己定义的数据文件资源了。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_CreateAssetMenu%E8%8F%9C%E5%8D%95%E5%88%9B%E5%BB%BA.png" class="" title="ScriptableObject_CreateAssetMenu菜单创建"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>创建的文件名和配置的相同，其他公共变量也显示出来了，有默认值的变量会默认关联我们自己配置的默认值。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_CreateAssetMenu%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6.png" class="" title="ScriptableObject_CreateAssetMenu创建文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>利用ScriptableObject的静态方法创建数据对象，然后将数据对象保存在工程目录下</p>
<ul>
<li>创建一个脚本，在脚本汇总创建一个静态方法，方法中添加 [MenuItem(“菜单栏&#x2F;子菜单栏”)]特性</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ScriptableObjectTool</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//[MenuItem(&quot;菜单栏/子菜单栏&quot;)]</span></span><br><span class="line">    [<span class="meta">MenuItem(<span class="string">&quot;ScriptableObject/CreateMyData&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CreateMyData</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>添加后可以在菜单栏看到我们添加的菜单选项，点击时执行的就是刚刚加了特性的静态方法。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_MenuItem%E8%8F%9C%E5%8D%95%E5%88%9B%E5%BB%BA.png" class="" title="ScriptableObject_CreateAssetMenu创建文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>写静态方法中的创建数据文件逻辑，这样在点击添加自己创建的菜单按钮时会创建数据文件。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ScriptableObjectTool</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">MenuItem(<span class="string">&quot;ScriptableObject/CreateMyData&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CreateMyData</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//书写创建数据资源文件的代码 &lt;T&gt;中一定要继承ScriptableObject</span></span><br><span class="line">        MyData myDataAsset = ScriptableObject.CreateInstance&lt;MyData&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过编辑器API 根据数据创建一个数据资源文件</span></span><br><span class="line">        AssetDatabase.CreateAsset(myDataAsset, <span class="string">&quot;Assets/Study/ScripttableObject/MyDataTest.asset&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存创建的资源</span></span><br><span class="line">        AssetDatabase.SaveAssets();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//刷新界面</span></span><br><span class="line">        AssetDatabase.Refresh();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_MenuItem%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6.png" class="" title="ScriptableObject_MenuItem创建文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="4">ScriptableObject好处的体现</font></strong></p>
<ul>
<li>更方便的配置数据：我们可以直接在Inspector当中配置数据。</li>
<li>项目之间的复用：我们可以拷贝继承ScriptableObject的脚本到任何工程中。</li>
</ul>
<p><strong><font size="4">总结</font></strong><br>创建ScriptableObject数据类非常简单：</p>
<ul>
<li>继承它。</li>
<li>声明需要的数据变量。</li>
<li>添加对应的特性，让我们可以在Unity中真正的创建出数据资源文件。</li>
</ul>
<h3 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.请使用ScriptableObject制作一个用于存储游戏设置信息的数据：音乐音效开关和音乐音效大小</font></strong></p>
<p><strong><font size="3">创建SettingInfo，继承ScriptableObject，声明音乐音效开关和音乐音效大小变量</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SettingInfo</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//音乐和音效的开关</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> musicIsOpen;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> soundIsOpen;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//音乐和音效的 大小</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> musicValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> soundValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">给脚本添加CreateAssetMenu特性，设置好默认文件名和创建菜单</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="meta">CreateAssetMenu(fileName = <span class="string">&quot;SettingInfo&quot;</span>, menuName = <span class="string">&quot;ScriptableObject/音乐音效设置信息&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SettingInfo</span> : <span class="title">ScriptableObject</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">创建文件</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E7%BB%83%E4%B9%A0%E9%A2%98_1.png" class="" title="ScriptableObject_创建数据文件_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E7%BB%83%E4%B9%A0%E9%A2%98_2.png" class="" title="ScriptableObject_创建数据文件_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<h2 id="使用ScriptableObject数据文件"><a href="#使用ScriptableObject数据文件" class="headerlink" title="使用ScriptableObject数据文件"></a>使用ScriptableObject数据文件</h2><p><strong><font size="4">ScriptableObject数据文件的使用</font></strong></p>
<ul>
<li>Resources、AB包、Addressables都支持加载继承ScriptableObject的数据文件</li>
<li>可以把数据文件理解成预设体的感觉</li>
</ul>
<blockquote>
<p>注意：如果多个对象关联同一个数据容器文件，他们共享的是一个对象，因为是引用对象，所以在其中任何地方修改后，其它地方也会发生改变</p>
</blockquote>
<p><strong><font size="3">方法一：通过Inspector中的public变量进行关联</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6.png" class="" title="ScriptableObject_数据文件_创建文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在继承MonoBehaviour类中申明数据容器类型的成员，在Inspector窗口进行关联数据文件</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> :<span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> MyData myData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E8%B5%8B%E5%80%BC%E6%95%B0%E6%8D%AE.png" class="" title="ScriptableObject_数据文件_赋值数据"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在MyData中声明打印信息方法并调用，在继承MonoBehaviour类中可以打印出关联的数据文件信息</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE.png" class="" title="ScriptableObject_数据文件_修改数据"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyData</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//.....</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PrintInfo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(i);</span><br><span class="line">        Debug.Log(f);</span><br><span class="line">        Debug.Log(b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> :<span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        myData.PrintInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E6%89%93%E5%8D%B0%E6%95%B0%E6%8D%AE.png" class="" title="ScriptableObject_数据文件_打印数据"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">方法二：通过资源加载的信息关联</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E6%94%BE%E5%85%A5Resources.png" class="" title="ScriptableObject_数据文件_放入Resources"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>加载数据文件资源，并打印</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> MyData myData;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        myData = Resources.Load&lt;MyData&gt;(<span class="string">&quot;MrTangData&quot;</span>);</span><br><span class="line">      </span><br><span class="line">        myData.PrintInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>打印结果同上面一样，故省略</li>
</ul>
<p><strong><font size="4">ScriptableObject的生命周期函数</font></strong></p>
<p>ScriptableObject和 MonoBehaviour 类似，它也有生命周期函数，但数量较少。我们一般不常用。</p>
<ul>
<li>Awake：在数据文件创建时调用。</li>
<li>OnDestroy：在 ScriptableObject 对象将被销毁时调用。</li>
<li>OnDisable：在 ScriptableObject 对象销毁时、即将重新加载脚本程序集时调用。</li>
<li>OnEnable：在 ScriptableObject 创建或加载对象时调用。</li>
<li>OnValidate：这是一个仅在编辑器下调用的函数，在 Unity 加载脚本或者在 Inspector 窗口中更改值时会被调用。</li>
</ul>
<p>生命周期函数代码</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(<span class="string">&quot;数据文件创建时会调用&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDisable</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnValidate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(<span class="string">&quot;值改变&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">ScriptableObject好处的体现</font></strong></p>
<p><strong><font size="3">编辑器中的数据持久化</font></strong><br>通过代码修改数据对象中的内容，会影响数据文件，实现了在编辑器中数据的持久化。 这种数据持久化只在编辑模式下有效，在发布和运行时不会保存数据。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> MyData myData;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        myData = Resources.Load&lt;MyData&gt;(<span class="string">&quot;MrTangData&quot;</span>);</span><br><span class="line">      </span><br><span class="line">        myData.PrintInfo();</span><br><span class="line"></span><br><span class="line">        myData.i = <span class="number">6666</span>;</span><br><span class="line">        myData.f = <span class="number">54250.66f</span>;</span><br><span class="line">        myData.b = <span class="literal">false</span>;</span><br><span class="line">        myData.PrintInfo();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE_2.png" class="" title="ScriptableObject_数据文件_修改数据"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">复用数据</font></strong></p>
<ul>
<li>当多个对象关联同一个数据文件时，它们实际上是共享一组数据的，这样可以更加节约内存空间。</li>
</ul>
<p><strong><font size="4">总结</font></strong><br>其实创建出来的数据资源文件，你可以把它理解成一种记录数据的资源<br>它的使用方式，和我们以前使用Unity当中的其它资源规则是一样的<br>比如：预设体、音频文件、视频文件、动画控制器文件、材质球等等<br>只不过通过继承ScriptableObject类生成的数据资源文件，它主要是和数据相关的</p>
<h3 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.请使用上面做的游戏设置信息数据文件，做一个设置界面，使用该数据文件来更新界面，并且做到每次重启游戏数据能被记录</font></strong></p>
<p><strong><font size="3">在场景中创建设置面板和各控件</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E7%BB%83%E4%B9%A0%E9%A2%98_1.png" class="" title="ScriptableObject_使用数据文件_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">创建SettingPanel脚本，外部关联变量。设置一个设置信息数据资源文件变量，关联上节练习题创建的设置信息数据文件。</font></strong></p>
<ul>
<li>settingInfo使用之前创建的即可</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SettingPanel</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Toggle musicTog; <span class="comment">// 音乐开关</span></span><br><span class="line">    <span class="keyword">public</span> Toggle soundTog; <span class="comment">// 音效开关</span></span><br><span class="line">    <span class="keyword">public</span> Slider musicSlider; <span class="comment">// 音乐滑动条</span></span><br><span class="line">    <span class="keyword">public</span> Slider soundSlider; <span class="comment">// 音效滑动条</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> SettingInfo settingInfo; <span class="comment">// 设置信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E7%BB%83%E4%B9%A0%E9%A2%98_2.png" class="" title="ScriptableObject_使用数据文件_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">在Start中一开始读取数据文件的值，赋值给各控件。并给各控件添加值改变监听，改变后记录修改后的值到数据文件中。</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SettingPanel</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 将设置信息应用到UI控件上</span></span><br><span class="line">        musicTog.isOn = settingInfo.musicIsOpen;</span><br><span class="line">        soundTog.isOn = settingInfo.soundIsOpen;</span><br><span class="line">        musicSlider.<span class="keyword">value</span> = settingInfo.musicValue;</span><br><span class="line">        soundSlider.<span class="keyword">value</span> = settingInfo.soundValue;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当音乐开关控件值发生变化时，记录修改后的值到设置信息中</span></span><br><span class="line">        musicTog.onValueChanged.AddListener((<span class="keyword">value</span>) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            settingInfo.musicIsOpen = <span class="keyword">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当音效开关控件值发生变化时，记录修改后的值到设置信息中</span></span><br><span class="line">        soundTog.onValueChanged.AddListener((<span class="keyword">value</span>) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            settingInfo.soundIsOpen = <span class="keyword">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当音乐滑动条控件值发生变化时，记录修改后的值到设置信息中</span></span><br><span class="line">        musicSlider.onValueChanged.AddListener((<span class="keyword">value</span>) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            settingInfo.musicValue = <span class="keyword">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当音效滑动条控件值发生变化时，记录修改后的值到设置信息中</span></span><br><span class="line">        soundSlider.onValueChanged.AddListener((<span class="keyword">value</span>) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            settingInfo.soundValue = <span class="keyword">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">运行结果</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_%E7%BB%83%E4%B9%A0%E9%A2%98_3.gif" class="" title="ScriptableObject_使用数据文件_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<blockquote>
<p>注意，在编辑器中看起来好像实现了数据持久化，但是其实打包出去并不能数据持久化，只是在编辑器上看起来有数据持久化。如果打包遇到报错可能是MenuItem特性用到了编辑器相关的代码，需要把他包一层放到Editor文件夹中。</p>
</blockquote>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6_Editor.png" class="" title="ScriptableObject_使用数据文件_Editor"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<h2 id="ScriptableObject数据非持久化"><a href="#ScriptableObject数据非持久化" class="headerlink" title="ScriptableObject数据非持久化"></a>ScriptableObject数据非持久化</h2><p><strong><font size="4">ScriptableObject的非持久化数据指的是什么</font></strong></p>
<ul>
<li>指的是不管在编辑器模式还是在发布后都不会持久化的数据。</li>
<li>我们可以根据自己的需求随时创建对应数据对象进行使用，就好像直接new一个数据结构类对象。</li>
</ul>
<p><strong><font size="4">如何利用ScriptableObject生成非持久化的数据</font></strong></p>
<p><strong><font size="3">ScriptableObject.CreateInstance方法</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> MyData myData;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//利用ScriptableObject中的静态方法 CreateInstance&lt;&gt;()</span></span><br><span class="line">        <span class="comment">//可以理解为这是ScriptableObject  new出一个我们自己写好的数据结构</span></span><br><span class="line">        <span class="comment">//该方法可以在运行时创建出指定继承ScriptableObject的对象</span></span><br><span class="line">        <span class="comment">//该对象只存在于内存当中，可以被GC</span></span><br><span class="line">        <span class="comment">//调用一次就创建一次</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过这种方式创建出来的数据对象 它里面的默认值 不会受到脚本中设置的影响</span></span><br><span class="line">        <span class="comment">//就比如</span></span><br><span class="line">        <span class="comment">//MyData脚本有关联默认的音乐切片文件和材质球 假如直接Inspector窗口创建的MyData数据文件会关联默认音乐切片文件和材质球</span></span><br><span class="line">        <span class="comment">//这种方法创建出来的数据文件不会</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//myData = ScriptableObject.CreateInstance(&quot;MyData&quot;) as MyData;//传类名一般不用</span></span><br><span class="line">        myData = ScriptableObject.CreateInstance&lt;MyData&gt;();</span><br><span class="line"></span><br><span class="line">        myData.PrintInfo();</span><br><span class="line"></span><br><span class="line">        Debug.Log(myData.audioClip);<span class="comment">//Null</span></span><br><span class="line">        Debug.Log(myData.m);<span class="comment">//Null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="4">ScriptableObject的非持久化数据存在的意义</font></strong></p>
<ul>
<li>只是希望在运行时能有一组唯一的数据可以使用。</li>
<li>但是这个数据又不太希望保存为数据资源文件浪费硬盘空间。</li>
<li>那么ScriptableObject的非持久化数据就有了存在的意义。</li>
<li>它的特点是只在运行时使用，在编辑器模式下也不会保存在本地。</li>
</ul>
<h3 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">请在上面设置界面练习题的基础上，不直接关联设置数据文件，而是在运行时创建，让其变为不持久化数据。</font></strong></p>
<p><strong><font size="3">在场景中把关联的数据文件设置为空。</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E6%95%B0%E6%8D%AE%E9%9D%9E%E6%8C%81%E4%B9%85%E5%8C%96_%E7%BB%83%E4%B9%A0%E9%A2%98_1.png" class="" title="ScriptableObject_数据非持久化_练习题"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">在 Start 方法中使用 ScriptableObject.CreateInstance 方法创建赋值，注意这样就不会在编辑器中持久化，每次运行都是默认值。</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SettingPanel</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">    <span class="keyword">public</span> SettingInfo settingInfo; <span class="comment">// 设置信息</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 创建设置信息实例</span></span><br><span class="line">        settingInfo = ScriptableObject.CreateInstance&lt;SettingInfo&gt;();</span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ScriptableObject数据持久化"><a href="#ScriptableObject数据持久化" class="headerlink" title="ScriptableObject数据持久化"></a>ScriptableObject数据持久化</h2><h2 id="配置ScriptableObject数据"><a href="#配置ScriptableObject数据" class="headerlink" title="配置ScriptableObject数据"></a>配置ScriptableObject数据</h2><p><strong><font size="4">ScriptableObject数据文件为什么非常适合用来做配置文件?</font></strong></p>
<ul>
<li>配置文件的数据在游戏发布之前定规则</li>
<li>配置文件的数据在游戏运行时只会读出来使用，不会改变内容</li>
<li>在Unity的Inspector窗口进行配置更加的方便</li>
</ul>
<p><strong><font size="4">制作配置</font></strong><br>以前我们的常规配置方式<br>都是利用之前学习过的 数据持久化四部曲当中的内容进行配置的<br>比如 xml配置 json配置 excel配置<br>而ScriptableObject不需要使用第三方软件进行配置，可以直接在Unity进行配置</p>
<p><strong><font size="3">创建脚本</font></strong></p>
<ul>
<li>创建RoleInfo脚本，继承ScriptableObject，使用ScriptableObject特性CreateAssetMenu，创建菜单项”ScriptableObject&#x2F;角色信息”，保存为文件”RoleInfo”</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 使用ScriptableObject特性，创建菜单项&quot;ScriptableObject/角色信息&quot;，保存为文件&quot;RoleInfo&quot;</span></span><br><span class="line">[<span class="meta">CreateAssetMenu(fileName = <span class="string">&quot;RoleInfo&quot;</span>, menuName = <span class="string">&quot;ScriptableObject/角色信息&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RoleInfo</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">定义内部类</font></strong></p>
<ul>
<li>RoleInfo脚本中定义一个内部类RoleData，用于存储角色的各项信息，添加 [System.Serializable]让这个类能在Inspector窗口上编辑</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 定义内部类RoleData，用于存储角色的各项信息</span></span><br><span class="line">[<span class="meta">System.Serializable</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RoleData</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id; <span class="comment">// 角色ID</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> res; <span class="comment">// 角色模型资源路径</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk; <span class="comment">// 角色攻击力</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> tips; <span class="comment">// 角色提示信息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> lockMoney; <span class="comment">// 解锁所需金币数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> type; <span class="comment">// 角色类型</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> hitEff; <span class="comment">// 攻击特效路径</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印角色数据</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Print</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(id);</span><br><span class="line">        Debug.Log(res);</span><br><span class="line">        Debug.Log(atk);</span><br><span class="line">        Debug.Log(tips);</span><br><span class="line">        Debug.Log(lockMoney);</span><br><span class="line">        Debug.Log(type);</span><br><span class="line">        Debug.Log(hitEff);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">RoleInfo脚本中定义存储角色数据的列表</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RoleInfo</span>: <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;存储角色数据的列表&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> List&lt;RoleData&gt; m_roleList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建么角色信息数据文件，在inspector窗口配置数据</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE_%E6%95%B0%E6%8D%AE%E5%88%97%E8%A1%A8.png" class="" title="ScriptableObject_配置数据_数据列表"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">在主脚本中创建角色信息变量并关联数据文件，遍历打印每个角色信息</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> RoleInfo roleInfo;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;roleInfo.roleList.Count; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            roleInfo.roleList[i].Print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE_%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C.png" class="" title="ScriptableObject_配置数据_打印结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">总结</font></strong><br>只用不改<br>并且经常会进行配置的数据<br>非常适合使用ScriptableObject<br>我们可以利用ScriptableObject数据文件 来制作编辑器相关功能<br>比如：Unity内置的技能编辑器、关卡编辑器等等<br>我们不需要把编辑器生成的数据生成别的数据文件，而是直接通过ScriptableObject进行存储<br>因为内置编辑器只会在编辑模式下运行，编辑模式下ScriptableObject具备数据持久化的特性</p>
<h2 id="复用ScriptableObject数据"><a href="#复用ScriptableObject数据" class="headerlink" title="复用ScriptableObject数据"></a>复用ScriptableObject数据</h2><p><strong><font size="4">使用预设体对象可能存在的内存浪费问题</font></strong></p>
<ul>
<li>对于只用不变的数据</li>
<li>以面向对象的思想去声明对象类是可能存在内存浪费的问题的</li>
<li>我们以子弹对象为例</li>
</ul>
<p><strong><font size="3">举例测试</font></strong></p>
<ul>
<li>创建Bullet脚本，声明必要的变量，挂载到一个球上拖到Inspector窗口下作为子弹预设体，以后创建子弹都是动态创建这个预制体</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * speed * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>由于每个创建出来的子弹预设体都挂了子弹脚本，每个子弹脚本的成员变量都会占内存空间，会造成内存的浪费。像速度这种配置变量可以共享同一份内存空间的数据。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E5%A4%8D%E7%94%A8%E6%95%B0%E6%8D%AE_Bullet.png" class="" title="ScriptableObject_复用数据_Bullet"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>利用ScriptableObject数据对象 更加节约内存</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="meta">CreateAssetMenu()</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BulletInfo</span> : <span class="title">ScriptableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E5%A4%8D%E7%94%A8%E6%95%B0%E6%8D%AE_%E5%88%9B%E5%BB%BABulletInfo.png" class="" title="ScriptableObject_复用数据_创建BulletInfo"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在子弹预制体关联子弹信息数据文件，这样创建出来的每个子弹预制体都是共享同一个子弹信息数据文件了。通过控制子弹信息数据文件上的配置整体控制所有子弹。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> BulletInfo bulletInfo;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * bulletInfo.speed * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/ScriptableObject_%E5%A4%8D%E7%94%A8%E6%95%B0%E6%8D%AE_%E9%A2%84%E5%88%B6%E4%BD%93%E8%B5%8B%E5%80%BC%E6%95%B0%E6%8D%AE.png" class="" title="ScriptableObject_复用数据_预制体赋值数据"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>在主脚本添加子弹信息变量，在外部关联同一个子弹信息数据文件。添加按下空格增加子弹信息数据文件速度的逻辑。由于和子弹预制体关联的是同一个数据文件，可以达到全局控制子弹速度的目的。即使发布也是共享同一份内存空间。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> BulletInfo bulletInfo;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">            bulletInfo.speed += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">总结</font></strong></p>
<ul>
<li>对于不同对象，使用相同数据时</li>
<li>我们可以使用ScriptableObject来节约内存</li>
</ul>
<h2 id="ScriptableObject多态"><a href="#ScriptableObject多态" class="headerlink" title="ScriptableObject多态"></a>ScriptableObject多态</h2><h1 id="Unity进阶InputSystem"><a href="#Unity进阶InputSystem" class="headerlink" title="Unity进阶InputSystem"></a>Unity进阶InputSystem</h1><h2 id="Unity进阶InputSystem概述"><a href="#Unity进阶InputSystem概述" class="headerlink" title="Unity进阶InputSystem概述"></a>Unity进阶InputSystem概述</h2><p><strong><font size="4">概述主要讲解内容</font></strong></p>
<ul>
<li>InputSystem是什么</li>
<li>InputSystem和InputManager的区别</li>
<li>InputSystem的学习安排</li>
</ul>
<p><strong><font size="4">InputSystem是什么？</font></strong></p>
<ul>
<li>InputSystem是Unity提供的一种新的输入系统<br>最新InputSystem的运行环境需要<br>Unity 2019.4 及以上版本+.NET 4 运行时<br>它相对于老的输入系统更具拓展性和可自定义的替代方案</li>
</ul>
<blockquote>
<p>说人话：InputSystem是Unity提供的一套更好用更方便的用于检测键盘、<br>鼠标、手柄、摇杆等等设备输入的系统</p>
</blockquote>
<p><strong><font size="4">InputManager是什么？</font></strong></p>
<ul>
<li>InputManager是Unity的老版输入系统</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_Input_%E6%97%A7%E7%89%88%E8%BE%93%E5%85%A5%E7%B3%BB%E7%BB%9F.png" class="" title="InputSystem_Input_旧版输入系统"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">新老输入系统的区别</font></strong><br><strong><font size="3">老输入系统：</font></strong></p>
<ul>
<li>我们需要自己写各种检测代码来判断设备输入，并处理对应逻辑</li>
</ul>
<p><strong><font size="3">新输入系统：</font></strong></p>
<ul>
<li>不仅可以像老输入系统一样使用，还增加了输入配置的概念，新的输入系统将输入操作进行封装，让我们可以在Unity内进行输入配置文件编辑，我们不需要写代码来判断设别输入，只需要把工作重心放在逻辑处理上</li>
</ul>
<p><strong><Font size="3">代码示例</font></strong></p>
<ul>
<li>老版输入系统</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">if</span>(Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="comment">//鼠标左键点击后的处理逻辑</span></span><br><span class="line">          print(<span class="string">&quot;老版输入系统&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>新版输入系统</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">//新版输入系统 我们着重处理输入触发后的逻辑即可</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fire</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">      print(<span class="string">&quot;新版输入系统&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="4">使用新版输入系统</font></strong></p>
<p><strong><font size="3">创建Input Actions</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E5%88%9B%E5%BB%BAInputActions.png" class="" title="InputSystem_创建InputActions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">查看Input Actions</font></strong></p>
<ul>
<li>点击Edit Asset进行编辑</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E6%9F%A5%E7%9C%8BInputActions.png" class="" title="InputSystem_查看InputActions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">编辑Input Actions</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E5%88%9B%E5%BB%BAInputActions.png" class="" title="InputSystem_创建InputActions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>添加 Action Maps</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BC%96%E8%BE%91InputActions_ActionMaps.png" class="" title="InputSystem_编辑InputActions_ActionMaps"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>设置 Actions</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BC%96%E8%BE%91InputActions_Actions.png" class="" title="InputSystem_编辑InputActions_Actions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">创建Player Input组件</font></strong> </p>
<ul>
<li>创建一个空物体 添加上面创建的Test脚本以便测试</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E5%88%9B%E5%BB%BAPlayerInput%E7%BB%84%E4%BB%B6.png" class="" title="InputSystem_创建PlayerInput组件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">赋值Player Input组件</font></strong></p>
<ul>
<li>Default Map 选择自己创建的Action Maps</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E8%B5%8B%E5%80%BCPlayerInput%E7%BB%84%E4%BB%B6.png" class="" title="InputSystem_赋值PlayerInput组件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">PlayerInput_Events绑定方法</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput_Events%E7%BB%91%E5%AE%9A%E6%96%B9%E6%B3%95.png" class="" title="InputSystem_PlayerInput_Events绑定方法"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">打印结果</font></strong></p>
<ul>
<li>点击一次 打印3次结果的问题，后面再详解</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_打印结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">总结</font></strong></p>
<p><strong><font size="3">1.InputSystem是什么</font></strong></p>
<ul>
<li>Unity提供的新的用于检测玩家设备输入的系统</li>
</ul>
<p><strong><font size="3">2.InputSystem和InputManager的区别</font></strong></p>
<ul>
<li>InputSystem让我们可以专注于功能逻辑开发<br>不用操心输入检测相关代码</li>
</ul>
<p><strong><font size="3">3.InputSystem学习安排</font></strong></p>
<ul>
<li>由浅入深，层层递进</li>
</ul>
<h2 id="导入InputSystem"><a href="#导入InputSystem" class="headerlink" title="导入InputSystem"></a>导入InputSystem</h2><p><strong><font size="4">InputSystem包导入</font></strong></p>
<ul>
<li>packageManager中导入Input System</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E5%AF%BC%E5%85%A5InputSystem.png" class="" title="InputSystem_导入InputSystem"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>导入后会弹出提示 意思是否使用新的输入系统并重启 点击yes</li>
</ul>
<p><strong><font size="4">选择开启哪一种输入模式</font></strong></p>
<ul>
<li>选择InputSystem和 老InputManager的启用情况</li>
<li>File——&gt;Build Setting——&gt;Player Setting——&gt;Other——&gt;Active Input Handling</li>
<li>可以同时启用也可以只启用其中之一,每次启用后会重启Unity</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E8%AE%BE%E7%BD%AE%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F.png" class="" title="InputSystem_设置输入模式"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Active Input Handling</font></strong></p>
<ul>
<li><p>Input Manager（old）<br>选择输入管理器（旧）代表仅启用Input Manager</p>
</li>
<li><p>Input System Package（New）<br>选择输入系统包（新）代表仅启用Input System</p>
</li>
<li><p>Both<br>选择两个代表同时启用Input System及Input Manager</p>
</li>
</ul>
<blockquote>
<p>假如没开启某一输入系统又用了该输入系统的内容，编写时不会报错。挂载到场景上运行时会报错</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E4%BD%BF%E7%94%A8%E6%9C%AA%E8%AE%BE%E7%BD%AE%E7%9A%84%E8%BE%93%E5%85%A5%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%8A%A5%E9%94%99.png" class="" title="InputSystem_使用未设置的输入系统的报错"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<h2 id="代码检测键盘输入"><a href="#代码检测键盘输入" class="headerlink" title="代码检测键盘输入"></a>代码检测键盘输入</h2><p><strong><font size="4">获取当前键盘设备(需要引用命名空间)</font></strong></p>
<ul>
<li>新输入系统 提供了对应的输入设备类 帮助我们对某一种设备输入进行检测</li>
<li>using UnityEngine.InputSystem;</li>
<li>声明键盘类对象 得到当前连接电脑的键盘</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Keyboard keyBoard = Keyboard.current;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong><font size="4">单个按键</font></strong> </p>
<ul>
<li>按键检测一般写在Update内</li>
<li>首先要得到某一个按键 通过键盘类对象 点出 各种按键 来获取 比如<br>keyBoard.aKey A键<br>keyBoard.enterKey 回车键</li>
</ul>
<p><strong><font size="3">按下</font></strong> </p>
<ul>
<li>判断空格键是否按下 当前帧</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.spaceKey.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;按下了空格键&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">抬起</font></strong> </p>
<ul>
<li>判断D键是否抬起</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.dKey.wasReleasedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;抬起了D键&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">长按</font></strong> </p>
<ul>
<li>判断空格是否一直处于按下状态</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.spaceKey.isPressed)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;长按下空格键&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="4">通过事件监听按键按下</font></strong></p>
<ul>
<li>通过给keyboard对象中的 文本输入事件 添加委托函数 便可以获得每次输入的内容</li>
</ul>
<p><strong><font size="3">通过lambda表达式</font></strong></p>
<ul>
<li>添加的监听没有办法取消</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Keyboard keyBoard = Keyboard.current;</span><br><span class="line"></span><br><span class="line">    keyBoard.onTextInput += (c) =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;通过lambda表达式——&quot;</span> +<span class="string">&quot;按下的按键：&quot;</span>+ c);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">通过普通函数</font></strong></p>
<ul>
<li>添加的监听可以取消</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Keyboard keyBoard = Keyboard.current;</span><br><span class="line"></span><br><span class="line">    keyBoard.onTextInput += TextInput;</span><br><span class="line">    <span class="comment">//可以取消添加的监听</span></span><br><span class="line">    <span class="comment">//keyBoard.onTextInput -= TextInput;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TextInput</span>(<span class="params"><span class="built_in">char</span> c</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;通过函数进行事件监听——&quot;</span> + <span class="string">&quot;按下的按键：&quot;</span> + c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">任意键按下监听</font></strong></p>
<ul>
<li>可以处理 任意键 按下 抬起 长按 相关的逻辑</li>
</ul>
<p><strong><font size="3">keyBoard.anyKey</font></strong><br>可以检测是否有任意按键被《按下》、《抬起》、《长按》。<br>缺点是不能知道按下的键是什么</p>
<ul>
<li>wasPressedThisFrame</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.anyKey.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;检测到任意按键被按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>wasReleasedThisFrame</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.anyKey.wasReleasedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;检测到任意按键被抬起&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>isPressed</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Keyboard.current.anyKey.isPressed)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;检测到任意按键被长按&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.利用目前所学知识，用新输入系统的键盘输入制作一个这样的功能：场景上有一个3D立方体，按键盘上的+和-可以对其进行缩放，缩放系数默认为1，最小为1，每按 + 一次，缩放系数+1，每按 - 一次，缩放系数-1</font></strong></p>
<p><strong><font size="3">定义缩放因子变量和要缩放的对象transform变量，引入新输入系统命名空间</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine.InputSystem;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Transform obj; <span class="comment">// 需要进行缩放的物体的Transform组件</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> scaleFactor = <span class="number">1</span>; <span class="comment">// 缩放因子，默认为1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">Update中检测加号减号的按下和长按，改变缩放因子赋值给要缩放的对象transform的localScale</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 检测&quot;+&quot;, &quot;=&quot;, &quot;numpad +&quot; 或 &quot;numpad =&quot; 键是否在当前帧按下</span></span><br><span class="line">        <span class="keyword">if</span> (Keyboard.current.numpadPlusKey.wasPressedThisFrame ||</span><br><span class="line">            Keyboard.current.equalsKey.wasPressedThisFrame)</span><br><span class="line">        &#123;</span><br><span class="line">            scaleFactor += <span class="number">1</span>; <span class="comment">// 缩放因子增加1</span></span><br><span class="line">            obj.localScale = Vector3.one * scaleFactor; <span class="comment">// 将物体的缩放应用到缩放因子</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检测&quot;-&quot;, &quot;numpad -&quot; 键是否在当前帧按下</span></span><br><span class="line">        <span class="keyword">if</span> (Keyboard.current.numpadMinusKey.wasPressedThisFrame ||</span><br><span class="line">            Keyboard.current.minusKey.wasPressedThisFrame)</span><br><span class="line">        &#123;</span><br><span class="line">            scaleFactor -= <span class="number">1</span>; <span class="comment">// 缩放因子减少1</span></span><br><span class="line">            <span class="keyword">if</span> (scaleFactor &lt; <span class="number">1</span>) <span class="comment">// 防止缩放因子小于1</span></span><br><span class="line">            scaleFactor = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            obj.localScale = Vector3.one * scaleFactor; <span class="comment">// 将物体的缩放应用到缩放因子</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">运行实例</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%80_1.%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C.gif" class="" title="InputSystem_练习一_1.运行结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<h2 id="代码检测鼠标输入"><a href="#代码检测鼠标输入" class="headerlink" title="代码检测鼠标输入"></a>代码检测鼠标输入</h2><p><strong><font size="4">获取当前鼠标设备（需要引用命名空间）</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//获得当前接入的鼠标</span></span><br><span class="line">    Mouse mouse = Mouse.current;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><font size="4">鼠标各键位</font></strong><br><strong><font size="3">鼠标左键</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mouse.leftButton</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">鼠标右键</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mouse.rightButton</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">鼠标中键</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mouse.middleButton</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">鼠标 向前向后键</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mouse.forwardButton;</span><br><span class="line">mouse.backButton;</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">按下</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Mouse.current.leftButton.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;鼠标左键按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">抬起</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Mouse.current.leftButton.wasReleasedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;鼠标左键抬起&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">长按</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Mouse.current.rightButton.isPressed)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;鼠标右键长按&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="4">鼠标位置相关</font></strong></p>
<p><strong><font size="3">获取当前鼠标位置</font></strong></p>
<ul>
<li>原点是左下角 右上角的值为屏幕最大分辨率</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//获取当前鼠标位置 原点是左下角 右上角的值为屏幕最大分辨率</span></span><br><span class="line">    Mouse.current.position.ReadValue();</span><br><span class="line">    print(Mouse.current.position.ReadValue());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">得到鼠标两帧之间的一个偏移向量</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//得到鼠标两帧之间的一个偏移向量 </span></span><br><span class="line">    Mouse.current.delta.ReadValue();</span><br><span class="line">    print(Mouse.current.delta.ReadValue());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">鼠标中间 滚轮的方向向量</font></strong></p>
<ul>
<li>往上滚大于0 往下滚小于0</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//鼠标中间 滚轮的方向向量 往上滚大于0 往下滚小于0</span></span><br><span class="line">    Mouse.current.scroll.ReadValue();</span><br><span class="line">    print(Mouse.current.scroll.ReadValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.利用目前所学知识，用新输入系统的鼠标键盘输入制作一个这样的功能：场景上有一个3D立方体，当鼠标点击选中它时，它的颜色变为红色，并且按键盘上的+和-可以对其进行缩放，缩放系数默认为1，最小为1，每按 + 一次，缩放系数+1，每按 - 一次，缩放系数-1</font></strong></p>
<p><strong><font size="3">Update中添加按加号减号修改比例逻辑，和上节课类似，不过修改obj为GameObject类型且为私有的，而且要obj不为空才进逻辑</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> GameObject obj = <span class="literal">null</span>;  <span class="comment">// 当前被射线检测到的物体</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> scaleFactor = <span class="number">1</span>;  <span class="comment">// 缩放因子，默认为1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (obj != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 按下 &quot;+&quot; 或 &quot;numpad +&quot; 键</span></span><br><span class="line">            <span class="keyword">if</span> (Keyboard.current.numpadPlusKey.wasPressedThisFrame ||</span><br><span class="line">                Keyboard.current.equalsKey.wasPressedThisFrame)</span><br><span class="line">            &#123;</span><br><span class="line">                scaleFactor += <span class="number">1</span>;  <span class="comment">// 缩放因子增加1</span></span><br><span class="line">                obj.transform.localScale = Vector3.one * scaleFactor;  <span class="comment">// 根据缩放因子调整物体的缩放比例</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 按下 &quot;-&quot; 或 &quot;numpad -&quot; 键</span></span><br><span class="line">            <span class="keyword">if</span> (Keyboard.current.numpadMinusKey.wasPressedThisFrame ||</span><br><span class="line">                Keyboard.current.minusKey.wasPressedThisFrame)</span><br><span class="line">            &#123;</span><br><span class="line">                scaleFactor -= <span class="number">1</span>;  <span class="comment">// 缩放因子减少1</span></span><br><span class="line">                <span class="keyword">if</span> (scaleFactor &lt; <span class="number">1</span>)</span><br><span class="line">                 scaleFactor = <span class="number">1</span>;  <span class="comment">// 确保缩放因子不会小于1</span></span><br><span class="line">                obj.transform.localScale = Vector3.one * scaleFactor;  <span class="comment">// 根据缩放因子调整物体的缩放比例</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">Update中添加鼠标左键按下进行射线检测逻辑，检测发出的射线有没有碰到对象</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 鼠标左键按下才进行射线检测</span></span><br><span class="line">        <span class="keyword">if</span> (Mouse.current.leftButton.wasPressedThisFrame)</span><br><span class="line">        &#123;</span><br><span class="line">            RaycastHit info;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//摄像机发射射线到鼠标点击位置上 屏幕坐标转场景坐标</span></span><br><span class="line">            <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info))</span><br><span class="line">            &#123;</span><br><span class="line">                obj = info.collider.gameObject;  <span class="comment">// 获取射线检测到的物体</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                obj = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong><font size="3">创建红色材质球外部关联，创建默认材质球变量。每次点击到对象后设置好默认材质球，修改对象上的材质球为红色材质。没点到对象就修改上一对象的材质球为默认，默认材质球和obj都置空</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%BA%8C_1.%E5%88%9B%E5%BB%BA%E6%9D%90%E8%B4%A8%E7%90%83.png" class="" title="InputSystem_练习二_1.创建材质球"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Material redMaterial;  <span class="comment">// 红色的材质球</span></span><br><span class="line">    <span class="keyword">private</span> Material normalMaterial;  <span class="comment">// 原始的材质球</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 鼠标左键按下才进行射线检测</span></span><br><span class="line">        <span class="keyword">if</span> (Mouse.current.leftButton.wasPressedThisFrame)</span><br><span class="line">        &#123;</span><br><span class="line">             RaycastHit info;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//摄像机发射射线到鼠标点击位置上 屏幕坐标转场景坐标</span></span><br><span class="line">            <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info))</span><br><span class="line">            &#123;</span><br><span class="line">                obj = info.collider.gameObject;  <span class="comment">// 获取射线检测到的物体</span></span><br><span class="line">                normalMaterial = obj.GetComponent&lt;MeshRenderer&gt;().material;  <span class="comment">// 获取物体的原始材质球</span></span><br><span class="line">                obj.GetComponent&lt;MeshRenderer&gt;().material = redMaterial;  <span class="comment">// 将物体的材质球设置为红色</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 还原材质球</span></span><br><span class="line">                <span class="keyword">if</span> (obj != <span class="literal">null</span>)</span><br><span class="line">                    obj.GetComponent&lt;MeshRenderer&gt;().material = normalMaterial;</span><br><span class="line">                normalMaterial = <span class="literal">null</span>;</span><br><span class="line">                obj = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">运行实例</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%BA%8C_1.%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C.gif" class="" title="InputSystem_练习二_1.运行结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>





<h2 id="代码检测触屏输入"><a href="#代码检测触屏输入" class="headerlink" title="代码检测触屏输入"></a>代码检测触屏输入</h2><p><strong><font size="4">获取当前触屏设备</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//获得当前触屏设备</span></span><br><span class="line">    Touchscreen touchscreen = Touchscreen.current;</span><br><span class="line">    <span class="comment">//由于触屏相关都是在移动平台或提供触屏的设备上使用</span></span><br><span class="line">    <span class="comment">//所以在使用时最好做一次判空 </span></span><br><span class="line">    <span class="comment">//之前鼠标和键盘其实也最好判空</span></span><br><span class="line">    <span class="keyword">if</span> (touchscreen == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong><font size="4">得到触屏手指信息</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//得到触屏手指数量</span></span><br><span class="line">    print(touchscreen.touches.Count);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//得到单个触屏手指</span></span><br><span class="line">    <span class="comment">//touchscreen.touches[0]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//得到所有触屏手指 遍历所有手指</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> touchscreen.touches)</span><br><span class="line">    &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">手指检测</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取指定索引手指</span></span><br><span class="line">TouchControl touchControl = touchscreen.touches[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>


<p><strong><font size="3">按下</font></strong> </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按下 要先.出press</span></span><br><span class="line"><span class="keyword">if</span> (touchControl.press.wasPressedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong><font size="3">抬起</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抬起 要先.出press</span></span><br><span class="line"><span class="keyword">if</span> (touchControl.press.wasReleasedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><font size="3">长按</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//长按 要先.出press</span></span><br><span class="line"><span class="keyword">if</span> (touchControl.press.isPressed)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><font size="3">点击</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//点击手势 </span></span><br><span class="line"><span class="keyword">if</span>(touchControl.tap.isPressed)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>touchControl.press.isPressed 是根据 phase 的值来判断的，只要 phase 是 Began, Stationary, 或者 Moved，就表示触摸正在进行中，返回 1；否则返回 0。<br>touchControl.tap.isPressed 是根据 tapCount 的值来判断的，只要 tapCount 大于 0，就表示触摸被点击了，返回 1；否则返回 0。<br>因此，touchControl.press.isPressed 更适合用来检测持续性的触摸操作，而 touchControl.tap.isPressed 更适合用来检测瞬间性的触摸操作。</p>
</blockquote>
<p><strong><font size="3">连续点击次数</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//连续点击次数</span></span><br><span class="line">print(touchControl.tapCount);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">手指位置等相关信息</font></strong></p>
<p><strong><font size="3">位置</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//位置</span></span><br><span class="line">print(touchControl.position.ReadValue());</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">第一次接触时的位置</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一次接触时位置</span></span><br><span class="line">print(touchControl.startPosition.ReadValue());</span><br></pre></td></tr></table></figure>
<p><strong><font size="3">接触区域大小 — 半径大小</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接触区域大小 半径大小</span></span><br><span class="line">touchControl.radius.ReadValue();</span><br></pre></td></tr></table></figure>
<p><strong><font size="3">偏移位置</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//偏移位置</span></span><br><span class="line">touchControl.delta.ReadValue();</span><br></pre></td></tr></table></figure>
<p><strong><font size="3">得到当前手指的状态（阶段）</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到当前手指的 状态（阶段）</span></span><br><span class="line">UnityEngine.InputSystem.TouchPhase touchPhase = touchControl.phase.ReadValue();</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (touchPhase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//无</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.None:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//开始接触</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.Began:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//移动</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.Moved:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//结束</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.Ended:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//取消</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.Canceled:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">//静止</span></span><br><span class="line">    <span class="keyword">case</span> UnityEngine.InputSystem.TouchPhase.Stationary:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="代码检测手柄输入"><a href="#代码检测手柄输入" class="headerlink" title="代码检测手柄输入"></a>代码检测手柄输入</h2><img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E6%89%8B%E6%9F%84%E7%BB%93%E6%9E%84%E5%9B%BE.png" class="" title="InputSystem_手柄结构图"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="4">获取当前手柄</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//获得当前手柄 </span></span><br><span class="line">    Gamepad gamePad = Gamepad.current;</span><br><span class="line">    <span class="comment">//使用时最好做一次判空 </span></span><br><span class="line">    <span class="keyword">if</span> (gamePad == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong><font size="4">手柄摇杆</font></strong></p>
<p><strong><font size="3">遥感方向</font></strong></p>
<ul>
<li>左摇杆方向向量 右和上是正方向</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(gamePad.leftStick.ReadValue());</span><br></pre></td></tr></table></figure>

<ul>
<li>右摇杆方向向量</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(gamePad.rightStick.ReadValue());</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">摇杆按下</font></strong></p>
<ul>
<li>右摇杆 按下抬起长按相关</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按下</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.rightStickButton.wasPressedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抬起</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.rightStickButton.wasReleasedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//长按</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.rightStickButton.isPressed)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>左摇杆 按下抬起长按相关</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按下</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.leftStickButton.wasPressedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抬起</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.leftStickButton.wasReleasedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//长按</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.leftStickButton.isPressed)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">手柄方向键</font></strong></p>
<ul>
<li>对应手柄上4个方向键 上下左右</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gamePad.dpad.left</span><br><span class="line">gamePad.dpad.right</span><br><span class="line">gamePad.dpad.up</span><br><span class="line">gamePad.dpad.down</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">左键例子</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按下</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.dpad.left.wasPressedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//抬起</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.dpad.left.wasReleasedThisFrame)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//长按</span></span><br><span class="line"><span class="keyword">if</span> (gamePad.dpad.left.isPressed)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong><font size="4">手柄右侧按键</font></strong><br><strong><font size="3">通用</font></strong></p>
<ul>
<li>Y、△ 北向按钮</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.buttonNorth</span><br></pre></td></tr></table></figure>
<ul>
<li>A、X 南向按钮</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.buttonSouth</span><br></pre></td></tr></table></figure>
<ul>
<li>X、□ 西向按钮</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.buttonWest</span><br></pre></td></tr></table></figure>
<ul>
<li>B、○ 动向按钮</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.buttonEast</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">（X A B Y）（△ X □ ○） 按名字监听</font></strong></p>
<ul>
<li>x</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.xButton</span><br></pre></td></tr></table></figure>
<ul>
<li>a</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.aButton</span><br></pre></td></tr></table></figure>
<ul>
<li>b</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.bButton</span><br></pre></td></tr></table></figure>
<ul>
<li>Y</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.yButton</span><br></pre></td></tr></table></figure>

<ul>
<li>○</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.circleButton</span><br></pre></td></tr></table></figure>
<ul>
<li>△</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.triangleButton</span><br></pre></td></tr></table></figure>
<ul>
<li>□</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.squareButton</span><br></pre></td></tr></table></figure>
<ul>
<li>X</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.crossButton</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">测试按键</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Gamepad.current.buttonNorth.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;上方按键 三角形键(PS)按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="4">手柄中央按键</font></strong></p>
<ul>
<li>开始键</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.startButton</span><br></pre></td></tr></table></figure>
<ul>
<li>选择键</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gamePad.selectButton</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">按键测试</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Gamepad.current.startButton.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;开始键按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Gamepad.current.selectButton.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;选择键按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">手柄肩部按键</font></strong></p>
<p><strong><font size="3">左上右上 肩部键位</font></strong></p>
<ul>
<li>左右前方肩部键</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gamePad.leftShoulder<span class="comment">//左前</span></span><br><span class="line">gamePad.rightShoulder<span class="comment">//右前</span></span><br></pre></td></tr></table></figure>
<ul>
<li>左右后方触发键</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gamePad.leftTrigger<span class="comment">//左后</span></span><br><span class="line">gamePad.rightTrigger<span class="comment">//右后</span></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">按键测试</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Gamepad.current.leftShoulder.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;左侧肩部前方键&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Gamepad.current.leftTrigger.wasPressedThisFrame)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;左侧肩部后方键&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="代码检测其他输入"><a href="#代码检测其他输入" class="headerlink" title="代码检测其他输入"></a>代码检测其他输入</h2><p><strong><font size="4">新输入系统中的输入设备类</font></strong></p>
<p><strong><font size="3">常用的</font></strong></p>
<ul>
<li>Keyboard—键盘</li>
<li>Mouse—鼠标</li>
<li>Touchscreen—触屏</li>
<li>Gamepad—手柄</li>
</ul>
<p><strong><font size="3">其他</font></strong></p>
<ul>
<li>Joystick—摇杆</li>
<li>Pen—电子笔</li>
<li>Sensor-传感器</li>
<li>Gyroscope—陀螺仪</li>
<li>GravitySensor—重力传感器（<a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Sensors.html#accelerometer%EF%BC%89">https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Sensors.html#accelerometer）</a></li>
<li>加速传感器</li>
<li>光照传感器</li>
<li>等等</li>
</ul>
<p><strong><font size="4">关于没有细讲的设备</font></strong><br>对于我们没有细讲的设备<br>平时在开发中不是特别常用<br>如果想要学习他们的使用<br>最直接的方式就是看官方的文档<br>或者直接进到类的内部查看具体成员<br>通过查看变量名和方法名即可了解使用方式<br>比如陀螺仪类 点进去看类的内部有什么属性和方法</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UnityEngine.InputSystem.Gyroscope gyroscope = UnityEngine.InputSystem.Gyroscope.current;</span><br><span class="line">gyroscope.angularVelocity.ReadValue();</span><br></pre></td></tr></table></figure>


<p><strong><font size="4">注意事项</font></strong><br>新输入系统的设计初衷就是想提升开发者的开发效率<br>我们不提倡写代码来处理输入逻辑<br>之后我们学了配置文件相关知识后<br>都是通过配置文件来设置监听（监视窃听）的输入事件类型<br>我们只需要把工作重心放在输入触发后的逻辑处理<br>所以我们目前讲解的知识都是为了之后最准备<br>实际开发中使用较少</p>
<h2 id="InputAction输入操作"><a href="#InputAction输入操作" class="headerlink" title="InputAction输入操作"></a>InputAction输入操作</h2><p><strong><font size="4">InputAction是什么？</font></strong></p>
<ul>
<li>顾名思义，InputAction是InputSystem帮助我们封装的输入动作类。</li>
<li>它的主要作用是不需要我们通过写代码的形式来处理输入，而是直接在Inspector窗口编辑想要处理的输入类型。当输入触发时，我们只需要把精力花在输入触发后的逻辑处理上。</li>
<li>我们在想要用于处理输入动作的类中，申明对应的InputAction类型的成员变量（注意：需要引用命名空间UnityEngine.InputSystem）。</li>
</ul>
<p><strong><font size="3">代码测试</font></strong></p>
<ul>
<li>比如创建移动和开火两个输入动作</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>把脚本挂载到空对象上，可以在inspector窗口编辑InputAction</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BF%E6%98%BE%E7%A4%BA.jpg" class="" title="InputSystem_InputAction_面板显示"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>InputAction的缺点是不会显示变量名。可以添加一个头特性进行区分。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Move Binding&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Axis &quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction axis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BF%E6%98%BE%E7%A4%BA-2.jpg" class="" title="InputSystem_InputAction_面板显示"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>




<p><strong><font size="4">InputAction参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAction_Properties.png" class="" title="InputSystem_InputAction_面板Action_Properties"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">Actions 输入动作设置 </font></strong></p>
<ul>
<li>设置检测哪些输入</li>
</ul>
<p>Action Type：动作类型</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAction_Properties-Actions_Type.png" class="" title="InputSystem_InputAction_面板Action_Properties-Actions_Type"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Value：值类型，主要用于状态连续更改的输入，例如鼠标的移动，手柄的遥感。如果有多个设备绑定这个Action，只会发送其中一个设备（最受控制的）的输入。比如多个手柄只会检测主手柄的输入。</li>
<li>Button：按钮类型，用于每次按下时触发的Action</li>
<li>Pass Through：直通类型，和Value一样，区别在于如果有多个设备绑定这个Action，会发送所有设备的输入。比如多个手柄都会响应他的输入组。</li>
</ul>
<p>Control Type：控制类型</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAction_Properties-Control_Type.png" class="" title="InputSystem_InputAction_面板Action_Properties-Control_Type"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>Any 任何值</li>
<li>Analog 模拟值，浮点数</li>
<li>Axis 一维轴浮点数，例如：摇杆输入返回值</li>
<li>Bone 骨骼</li>
<li>Digital 数字</li>
<li>Double 浮点</li>
<li>Dpad 4向按钮，例如：摇杆上的D-pad</li>
<li>Eyes VR相关数值</li>
<li>Integer 整数</li>
<li>Quaternion 四元数</li>
<li>Stick 摇杆相关</li>
<li>Touch 触屏相关</li>
<li>Vector2 2维向量</li>
<li>Vector3 3维向量</li>
</ul>
<blockquote>
<p>在这里选择对应的类型，之后在选择对应设备按键相关属性时。会根据你选择内容的不同，筛选对应内容。这上面显示的内容就是各设备属性的返回值类型。当你选择他们后，非选择的类型将不会在之后的按键设置中出现、很多内容我们基本用不到。相当于是在这里筛选输入设备。</p>
</blockquote>
<p>比如控制类型选择了Vector2，那么在点击加号添加绑定，点击选择号设备后，只能选择返回Vector2变量类型的输入设备，比如手柄摇杆，鼠标位置等，因为进行了筛选。假如选择了按钮类型，那么只能选择按钮返回值的输入设备，比如鼠标左键，手柄按键等。</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAction_Properties-Control_Type-%E6%B5%8B%E8%AF%95%E5%9B%BE1.png" class="" title="InputSystem_InputAction_面板Action_Properties-Control_Type-测试图1"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAction_Properties-Control_Type-%E6%B5%8B%E8%AF%95%E5%9B%BE2.png" class="" title="InputSystem_InputAction_面板Action_Properties-Control_Type-测试图2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Interactions 相互作用设置</font></strong></p>
<ul>
<li>用于特殊输入，比如长按、多次点击等等 当满足条件时才会触发这个行为（设置长按时间、点击次数等等），而每个绑定到动作的交互会触发三个关键事件：</li>
</ul>
<p>三个事件</p>
<ul>
<li>开始started:比如鼠标点击 一点击就触发了时间</li>
<li>触发performed:比如长按 长按1秒后就触发该事件</li>
<li>结束canceled:比如长按 但是只长按了0.5秒就松开了 结束该事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions.png" class="" title="InputSystem_InputAction_面板Interactions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Hold 长按</p>
<ul>
<li>适用于需要输入设备保持一段时间的操作。当按钮按下会触发started，若在松开按钮前，按住时间大于等于Hold Time则会触发performed（时间一到就触发），否则触发canceled。</li>
<li>比如设置长按一秒 才会触发performed事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-Hold.png" class="" title="InputSystem_InputAction_面板Interactions-Hold"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>MultiTap 多次点击</p>
<ul>
<li>用作于多次点击，例如双击或者三连击。Tap Count为点击次数，Max Tap Spacing为每次点击之间的间隔（默认值为 2 * Max Tap Duration）。Max Tap Duration为每次点击的持续时间，即按下和松开按钮的这段时间。当每次点击时间小于Max Tap Duration，且点击间隔时间小于Max Tap Spacing，点击Tap Count次，触发performed。</li>
<li>比如 双击时间要小于0.75秒才算双击 0.2秒内点击松开才算点击</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-MultiTap.png" class="" title="InputSystem&#x2F;InputSystem_InputAction_面板Interactions-MultiTap"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>Press 按下</p>
<ul>
<li>可以实现类似按钮的操作</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-Press.png" class="" title="InputSystem_InputAction_面板Interactions-Press"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Trigger Behavior 触发行为</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-Press-Trigger_Behavior.png" class="" title="InputSystem_InputAction_面板Interactions-Press-Trigger_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li><p>Press Only：按下的时候触发started和performed。不触发canceled</p>
</li>
<li><p>Release Only：按下的时候触发started，松开的时候触发performed</p>
</li>
<li><p>Press And Release：按下的时候触发started和performed，松开的时候会再次触发started和performed。不触发canceled</p>
</li>
<li><p>Press Point：在Input System中，每个按钮都有对应的浮点值，例如普通的按钮，将会在0（未按下）和1（按下）之间。因此我们可以利用这个值（Press Point）来进行区分，当大于等于这个值则认为按钮按下了。</p>
</li>
</ul>
<p>SlowTap 缓慢点击</p>
<ul>
<li>类似Hold，但是它在按住时间大于等于Max Tap Duriation的时候，并不会立刻触发performed，而是会在松开的时候才触发performed</li>
<li>比如当前按下时间要大于0.6秒后，松开鼠标，才会触发performed事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-SlowTap.png" class="" title="InputSystem_InputAction_面板Interactions-SlowTap"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Tap 点击</p>
<ul>
<li>和Hold相反，需要在一段时间内按下松开来触发。当按钮按下会触发started，若在Max Tap Duriation时间内（小于）松开按钮，触发performed，否则触发canceled。（其实就是按下抬起）</li>
<li>比如要在0.2秒内按下抬起 才算做一次点击 执行performed事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFInteractions-Tab.png" class="" title="InputSystem_InputAction_面板Interactions-Tab"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Processors 值处理加工设置</font></strong></p>
<ul>
<li>对得到的值进行处理加工 就是输入设备的值传过来后进行二次处理</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFProcessors.png" class="" title="InputSystem_InputAction_面板Processors"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Axis Deadzone axis死区处理器缩放控件的值，使绝对值小于最小值的任何值为0，绝对值大于最大值的任何值为1或-1。许多控件没有精确的静止点（也就是说，当控件位于中心时，它们并不总是精确报告0）。在死区处理器上使用最小值可避免此类控件的无意输入。此外，当轴一直移动时，某些控件不一致地报告其最大值。在死区处理器上使用最大值可确保在这种情况下始终获得最大值。</p>
<p>Clamp 将输入值钳制到[min..max]范围。<br>Invert 反转控件中的值（即，将值乘以-1）。<br>Invert Vector 2 反转控件中的值（即，将值乘以-1）。如果invertX为真，则反转矢量的x轴；如果invertY为真，则反转矢量的y轴。</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFProcessors-Invert_Vector_2.png" class="" title="InputSystem_InputAction_面板Processors-Invert_Vector_2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Invert Vector 3 反转控件中的值（即，将值乘以-1）。如果反转x为真，则反转矢量的x轴；如果反转y为真，则反转y轴；如果反转z为真，则反转z轴。<br>Normalize 如果最小值&gt;&#x3D;零，则将[min..max]范围内的输入值规格化为无符号规格化形式[0..1]，如果最小值&lt;零，则将输入值规格化为有符号规格化形式[-1..1]。<br>Normalize Vector 2 将输入向量规格化为单位长度（1）。<br>Normalize Vector 3 将输入向量规格化为单位长度（1）<br>Scale 将所有输入值乘以系数。<br>Scale Vector 2 将所有输入值沿x轴乘以x，沿y轴乘以y。<br>Scale Vector 3 将所有输入值沿x轴乘以x，沿y轴乘以y，沿z轴乘以z。</p>
<p>Stick Deadzone 摇杆死区处理器缩放Vector2控件（如摇杆）的值，以便任何幅值小于最小值的输入向量都将得到（0,0），而任何幅值大于最大值的输入向量都将规格化为长度1。许多控件没有精确的静止点（也就是说，当控件位于中心时，它们并不总是精确地报告0,0）。在死区处理器上使用最小值可避免此类控件的无意输入。此外，当轴一直移动时，某些控件不一致地报告其最大值。在死区处理器上使用最大值可确保在这种情况下始终获得最大值。</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFProcessors-Stick_Deadzone.png" class="" title="InputSystem_InputAction_面板Processors-Stick_Deadzone"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<blockquote>
<p>死区：死区可以理解为最小最大范围的扩大取值。比如摇杆在0-0.125的时候都认为是0,0.925以上都认为是1。可以解决轻微摇动会产生输入和最大摇动都没拉满的问题。</p>
</blockquote>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding.png" class="" title="InputSystem&#x2F;InputSystem_InputAction_面板Add_Binding"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Add Binding 添加新的输入绑定（单按键输入）</font></strong></p>
<ul>
<li>比如鼠标左右键按下</li>
</ul>
<p>按键测试</p>
<ul>
<li>比如添加了鼠标左键点击事件，并开启了代码，点击会进入逻辑</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding-%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_InputAction_面板Add_Binding-绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>编写代码</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Move Binding&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Axis &quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction axis;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.Enable();</span><br><span class="line"></span><br><span class="line">        Move.started += MoveMethod;</span><br><span class="line"></span><br><span class="line">        Move.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">             print(<span class="string">&quot;触发事件调用&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//当前状态</span></span><br><span class="line">            <span class="comment">//没有启用 Disabled</span></span><br><span class="line">            <span class="comment">//等待 Waiting</span></span><br><span class="line">            <span class="comment">//开始 Started</span></span><br><span class="line">            <span class="comment">//触发 Performed</span></span><br><span class="line">            <span class="comment">//结束 Canceled</span></span><br><span class="line">            <span class="comment">//context.phase</span></span><br><span class="line">            print(<span class="string">&quot;当前状态：&quot;</span>+context.phase);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//动作行为信息</span></span><br><span class="line">            print(<span class="string">&quot;动作行为信息：&quot;</span> + context.action.name);</span><br><span class="line">            <span class="comment">//控件（设备）信息</span></span><br><span class="line">            print(<span class="string">&quot;控件（设备）信息：&quot;</span>+context.control.name);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取值</span></span><br><span class="line">            <span class="comment">//context.ReadValue&lt;float&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//持续时间</span></span><br><span class="line">            print(<span class="string">&quot;持续时间：&quot;</span> + context.duration);</span><br><span class="line">            <span class="comment">//开始时间</span></span><br><span class="line">            print(<span class="string">&quot;开始时间：&quot;</span> + context.startTime);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoveMethod</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="string">&quot;开始事件调用&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>测试结果（运行项目，鼠标左键点击）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_InputAction_面板Add_Binding-测试结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>可以关联添加多个被监听的点击设备，比如下面按下1也会执行</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystemInputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding-%E7%BB%91%E5%AE%9A%E5%A4%9A%E4%B8%AA%E7%82%B9%E5%87%BB%E8%AE%BE%E5%A4%87.png" class="" title="InputSystemInputSystem_InputAction_面板Add_Binding-绑定多个点击设备"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>





<p><strong><font size="3">Add Positive&#x2F;Negative Binding 用于添加 1D 轴组合输入（类似旧版 Input Manager 中的水平&#x2F;竖直轴），通过正负键绑定返回一个 -1 到 1 之间的值。</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Positive.png" class="" title="InputSystem_InputAction_面板Add_Positive"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<p>Negative：</p>
<ul>
<li>负面按键，例如 0~-1</li>
</ul>
<p>Positive：</p>
<ul>
<li>正向按键，例如 0~1</li>
</ul>
<p>1D Axis</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Positive-1D_Axis.png" class="" title="InputSystem_InputAction_面板Add_Positive-1D_Axis"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li><p>Composite Type：复合类型 一般不修改</p>
</li>
<li><p>MinValue：最小值（版本差异，可能没有）</p>
</li>
<li><p>MaxValue：最大值（版本差异，可能没有）</p>
</li>
<li><p>Which Side Wins：哪一方获胜（当同时按下时如何处理 比如同时按下前进后退ws时 看ws谁获胜 可能打平）</p>
</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Positive-1D_Axis-Which_Side_Wins.png" class="" title="InputSystem_InputAction_面板Add_Positive-1D_Axis-Which_Side_Wins"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>Neither：双方没有优先权，返回MinValue和MaxValue的中间值</li>
<li>Positive：正面优先，返回maxValue</li>
<li>Negative：负面优先，返回minValue</li>
</ul>
<p>按键测试</p>
<ul>
<li>双击Negative或者Positive可以选择监听的按键 比如下面 按S代表-1 W代表1</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Positive-1D_Axis-%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_InputAction_面板Add_Positive-1D_Axis-绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>代码开启1D轴后 可以在Update中实时打印选择按下的值</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Move Binding&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.Enable();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(Move.ReadValue&lt;<span class="built_in">float</span>&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Positive-1D_Axis-%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_InputAction_面板Add_Positive-1D_Axis-打印结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>如图 因为选择了Neither：0代表不按或者ws一起按 -1代表s 1代表w</li>
</ul>
<p><strong><font size="3">Add Up\Down\Left\Right Composite 添加2D向量组合（类似将Input中的水平竖直热键组合在一起，得到的Vector中的x，y分别表示两个轴）</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Up：上 ( 0 , 1 )</li>
<li>Down：下 ( 0 , -1 )</li>
<li>Left：左 ( -1 , 0 )</li>
<li>Right：右 ( 1 , 0 )</li>
</ul>
<p>2DVector</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite-2DVector.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite-2DVector"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Composite Type：复合类型</li>
<li>Mode：处理模式</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite-2DVector-Mode.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite-2DVector-Mode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Analog：模拟值，浮点值</li>
<li>Digital Normalized：单位化向量</li>
<li>Digital：未单位化的向量</li>
</ul>
<p>按键测试</p>
<ul>
<li>选择监听的按键 比如键盘的上下左右键</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite-%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite-绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>代码开启2D轴后 可以在Update中实时打印选择按下的值</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;Move Binding&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Fire.Enable();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(Fire.ReadValue&lt;Vector2&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>测试结果</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite-%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite-打印结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>如果按下两个按键（比如上左，上右，或者下左，下右）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_UpDownLeftRight_Composite-%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C-2.png" class="" title="InputSystem_InputAction_面板Add_UpDownLeftRight_Composite-打印结果-2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Add Up\Down\Left\Right\Forward\Backward Composite 添加3D向量组合</font></strong></p>
<ul>
<li>3D和2D类似 无非是多了一维的参数 要关联多两个键</li>
</ul>
<p><strong><font size="3">Add Binding With One Modifier 添加带有一个复合修改器的按钮</font></strong></p>
<ul>
<li>（可以理解为双组合键， 比如Ctrl+C、Ctrl+V）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding_With_One_Modifier.png" class="" title="InputSystem_InputAction_面板Add_Binding_With_One_Modifier"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Modifier：</p>
<ul>
<li>复合输入内容</li>
</ul>
<p>Button：</p>
<ul>
<li>输入内容</li>
</ul>
<p>举例：</p>
<ul>
<li>复制按键Ctrl+C</li>
<li>Ctrl为Modifier</li>
<li>C为Binding</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding_With_One_Modifier-%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_InputAction_面板Add_Binding_With_One_Modifier-绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Fire;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Fire.Enable();</span><br><span class="line"></span><br><span class="line">        Fire.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;组合按键触发&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><strong><font size="3">Add Binding With Two Modifiers 添加带有两个复合修改器的按钮</font></strong></p>
<ul>
<li>（可以理解为三组合键，比如Ctrl+K+U）</li>
<li>和单组合键类似</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding_With_Two_Modifier.png" class="" title="InputSystem_InputAction_面板Add_Binding_With_Two_Modifier"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Modifier：</p>
<ul>
<li>复合输入内容<br>Button：</li>
<li>输入内容</li>
</ul>
<p>举例：</p>
<ul>
<li>复制按键Ctrl+K+U</li>
<li>Ctrl为Modifier1</li>
<li>K为Modifier2</li>
<li>U为Button</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFAdd_Binding_With_Two_Modifier-%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_InputAction_面板Add_Binding_With_Two_Modifier-绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Binding </font></strong></p>
<ul>
<li>Path：从哪个控件接受输入</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E9%9D%A2%E6%9D%BFBinding.png" class="" title="InputSystem_InputAction_面板Binding"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Usages：常用用法</li>
<li>GamePad：游戏手柄</li>
<li>Joystick：操纵杆</li>
<li>Keyboard：键盘</li>
<li>Mouse：鼠标</li>
<li>Pen：笔</li>
<li>Pointer：指针</li>
<li>Sensor：传感器</li>
<li>TouchScreen：触屏</li>
<li>Tracked Device：履带装置</li>
<li>XR Controller：XR 控制器</li>
<li>XR HMD：XR 头戴显示器</li>
<li>Other：其它</li>
</ul>
<p><strong><font size="4">InputAction的使用</font></strong></p>
<p><strong><font size="3">启用输入检测</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.Enable();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font size="3">操作监听相关</font></strong></p>
<ul>
<li>开始操作</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.started += StartedTestFun;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">StartedTestFun</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;开始事件调用&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>真正触发</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;触发事件调用&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>结束操作</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Move.canceled += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;结束事件调用&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>关键参数 CallbackContext</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> InputAction Move;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//真正触发</span></span><br><span class="line">        Move.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;触发事件调用&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//当前状态</span></span><br><span class="line">            <span class="comment">//没有启用 Disabled</span></span><br><span class="line">            <span class="comment">//等待 Waiting</span></span><br><span class="line">            <span class="comment">//开始 Started</span></span><br><span class="line">            <span class="comment">//触发 Performed</span></span><br><span class="line">            <span class="comment">//结束 Canceled</span></span><br><span class="line">            <span class="comment">//context.phase</span></span><br><span class="line">            print(<span class="string">&quot;当前状态&quot;</span> + context.phase);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//动作行为信息 </span></span><br><span class="line">            print(<span class="string">&quot;动作行为信息&quot;</span> + context.action.name);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//控件(设备)信息</span></span><br><span class="line">            print(<span class="string">&quot;控件(设备)信息&quot;</span> + context.control.name);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取值</span></span><br><span class="line">            <span class="comment">//context.ReadValue&lt;float&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//持续时间</span></span><br><span class="line">            print(<span class="string">&quot;持续时间&quot;</span> + context.duration);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//开始时间</span></span><br><span class="line">            print(<span class="string">&quot;开始时间&quot;</span> + context.startTime);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_CallbackContext-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_InputAction_CallbackContext-测试结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">特殊输入设置</font></strong></p>
<p><strong><font size="3">注意Interactions</font></strong></p>
<ul>
<li>可以点击上方Move条的齿轮 设置的为整个Move的所有关联设备 要长按五秒才能触发performed事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E7%89%B9%E6%AE%8A%E8%BE%93%E5%85%A5%E8%AE%BE%E7%BD%AE-Interactions-1.png" class="" title="InputSystem_InputAction_特殊输入设置-Interactions-1"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>也可以点击下方条 专门只为右键设置长按五秒才能触发performed事件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E7%89%B9%E6%AE%8A%E8%BE%93%E5%85%A5%E8%AE%BE%E7%BD%AE-Interactions-2.png" class="" title="InputSystem_InputAction_特殊输入设置-Interactions-2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>点击按钮或手动找到InputSystem默认值的设置（这里已经创建了设置文件）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E7%89%B9%E6%AE%8A%E8%BE%93%E5%85%A5%E8%AE%BE%E7%BD%AE-InputSystem-Package-Settings.png" class="" title="InputSystem_InputAction_特殊输入设置-InputSystem-Package-Settings"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<ul>
<li>可以点击创建InputSystem默认值的设置文件按钮，会创建出设置文件，可以修改设置文件的值</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E7%89%B9%E6%AE%8A%E8%BE%93%E5%85%A5%E8%AE%BE%E7%BD%AE-%E5%88%9B%E5%BB%BAInputSystem-inputsettings.png" class="" title="InputSystem_InputAction_特殊输入设置-创建InputSystem-inputsettings"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>查看设置文件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_%E7%89%B9%E6%AE%8A%E8%BE%93%E5%85%A5%E8%AE%BE%E7%BD%AE-%E5%88%9B%E5%BB%BAInputSystem-inputsettings%E7%9A%84%E6%96%87%E4%BB%B6.png" class="" title="InputSystem_InputAction_特殊输入设置-创建InputSystem-inputsettings的文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">Input System Package设置</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_Input_System_Package%E8%AE%BE%E7%BD%AE.png" class="" title="InputSystem_InputAction_Input_System_Package设置"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">UpdateMode：更新模式</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_Input_System_Package%E8%AE%BE%E7%BD%AE-UpdateMode.png" class="" title="InputSystem_InputAction_Input_System_Package设置-UpdateMode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Process Events In Dynamic Update：在动态更新中处理事件</li>
<li>Process Events In Fixed Update：在固定更新中处理事件</li>
<li>Process Events Manually：手动处理事件</li>
</ul>
<p><strong><font size="3">Background Behavior：后台行为</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_Input_System_Package%E8%AE%BE%E7%BD%AE-Background_Behavior.png" class="" title="InputSystem_InputAction_Input_System_Package设置-Background_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Reset And Disable Non Background Devices：重置和禁用非后台设备</li>
<li>Reset And Disable All Devices：重置和禁用所有设备</li>
<li>Ignore Focus：忽略焦点</li>
</ul>
<p><strong><font size="3">Filter Noise on .current：过滤当前设备的噪音（有的版本可能没有这个选项）</font></strong><br><strong><font size="3">Compensate Orientation：定向补偿</font></strong><br><strong><font size="3">Default Deadzone Min：默认死区最小值</font></strong><br><strong><font size="3">Default Deadzone Max：默认死区最大值</font></strong><br><strong><font size="3">Default Button Press Point：默认按钮按下点</font></strong><br><strong><font size="3">Button Release Threshold：按钮释放阈值</font></strong><br><strong><font size="3">Default Tap TIme：默认点击时间</font></strong><br><strong><font size="3">Default Slow Tap Time：默认慢速点击时间</font></strong><br><strong><font size="3">Default Hold Time：默认保持时间</font></strong><br><strong><font size="3">Tap Radius：点击半径</font></strong><br><strong><font size="3">MultTap Delay TIme：多次点击延迟时间</font></strong></p>
<p><strong><font size="3">Supported Devices：支持的设备</font></strong></p>
<ul>
<li>如果希望输入系统支持其可以识别的所有输入设备，请将支持的设备保留为空。</li>
<li>但是，如果您只对某一组设备感兴趣，那么在此处添加它们将缩小编辑器中显示的范围，并避免从与项目无关的设备获取输入。</li>
<li>在此处添加设备时，任何未被分类为受支持的设备都将显示在输入调试器的“不受支持的设备”下</li>
</ul>
<p><strong><font size="3">Motion Usage：动作使用</font></strong><br><strong><font size="3">Description：描述</font></strong></p>
<p><strong><font size="3">Play Mode Input Behavior：播放模式输入行为</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputAction_Input_System_Package%E8%AE%BE%E7%BD%AE-Play_Mode_Input_Behavior.png" class="" title="InputSystem_InputAction_Input_System_Package设置-Play_Mode_Input_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Pointers And Keyboards Respect Game View Focus：指针和键盘遵守游戏视图焦点</li>
<li>All Devices Respect Game View Focus：所有设备都遵守游戏视图焦点</li>
<li>All Device Input Always Goes To Game View：所有设备输入始终进入游戏视图</li>
</ul>
<h3 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.使用InputAction类,为一个3D对象制作通过鼠标键盘控制其移动、跳跃、开火的逻辑（移动跳跃 利用物理系统刚体加力）</font></strong></p>
<ul>
<li>创建一个平面和一个球体 球体改颜色 添加刚体</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E5%88%9B%E5%BB%BA%E7%90%83%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%9A%E4%BD%93.png" class="" title="InputSystem_练习三_1.创建球并添加刚体"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>创建脚本挂载到小球上。创建移动、跳跃、开火InputAction。添加分组特性。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;移动控制&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction move;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;跳跃控制&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction jump;</span><br><span class="line">    [<span class="meta">Header(<span class="string">&quot;开火控制&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> InputAction fire;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E6%8C%82%E8%BD%BD%E7%90%83%E4%BD%93.png" class="" title="InputSystem_练习三_1.挂载球体"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>创建刚体变量 Start中得到小球的刚体</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">    <span class="keyword">private</span> Rigidbody body; <span class="comment">// 刚体组件，用于实现物体的运动</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        body = <span class="keyword">this</span>.GetComponent&lt;Rigidbody&gt;(); <span class="comment">// 获取当前游戏对象的刚体组件</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>给移动控制关联wasd和上下左右， 启用移动控制输入，创建存储移动方向的变量 Start中启用移动控制输入，Update中读取移动输入的值，将读取的y和z进行转换后给球体添加力</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE.png" class="" title="InputSystem_练习三_1.绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Vector3 dir; <span class="comment">// 存储移动方向的向量</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        move.Enable(); <span class="comment">// 启用移动控制输入</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        dir = move.ReadValue&lt;Vector2&gt;(); <span class="comment">// 读取移动输入的值，即鼠标或键盘的输入</span></span><br><span class="line">        dir.z = dir.y; <span class="comment">// 将移动向量的y值赋给z值，因为我们只需要在水平方向上移动</span></span><br><span class="line">        dir.y = <span class="number">0</span>; <span class="comment">// 将移动向量的y值设为0，保证物体不会上下移动</span></span><br><span class="line">        body.AddForce(dir); <span class="comment">// 通过刚体组件给物体施加力，实现移动</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>给跳跃添加空格按键监听，启用跳跃控制输入，Start中给跳跃事件的触发事件添加监听，让物体施加向上的力（利用物理系统刚体加力）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE-2.png" class="" title="InputSystem_练习三_1.绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        jump.Enable(); <span class="comment">// 启用跳跃控制输入</span></span><br><span class="line">        jump.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 跳跃逻辑，给物体施加向上的力（利用物理系统刚体加力）</span></span><br><span class="line">            body.AddForce(Vector3.up * <span class="number">200</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>点击发子弹要根据鼠标当前位置的获取和射线检测</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E9%BC%A0%E6%A0%87%E4%BD%8D%E7%BD%AE%E5%92%8C%E6%A3%80%E6%B5%8B.png" class="" title="InputSystem_练习三_1.鼠标位置和检测"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>创建子弹预制体，添加子弹脚本让子弹一直往前飞，两秒后销毁</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E5%88%9B%E5%BB%BA%E5%AD%90%E5%BC%B9%E9%A2%84%E5%88%B6%E4%BD%93.png" class="" title="InputSystem_练习三_1.创建子弹预制体"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Destroy(<span class="keyword">this</span>.gameObject, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">20</span> * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>给开火事件添加左按键，启用开火控制输入，声明一个公共游戏对象bullet，用于存储子弹的预制体，外部关联。Start中给开火事件的触发事件添加监听，把鼠标位置转成射线得到方向向量，生成子弹设置初始旋转</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E7%BB%91%E5%AE%9A%E6%8C%89%E9%94%AE-3.png" class="" title="InputSystem_练习三_1.绑定按键"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 声明一个公共游戏对象bullet，用于存储子弹的预制体</span></span><br><span class="line">    <span class="keyword">public</span> GameObject bullet;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        fire.Enable(); <span class="comment">// 启用开火控制输入</span></span><br><span class="line"></span><br><span class="line">        fire.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 开火逻辑，通过鼠标位置的射线检测确定子弹飞出去的方向</span></span><br><span class="line">            RaycastHit info;</span><br><span class="line">            <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 得到子弹飞出去的向量</span></span><br><span class="line">                Vector3 point = info.point;</span><br><span class="line">                <span class="comment">//让y轴和小球y相等 否则可能会在地下发射</span></span><br><span class="line">                point.y = <span class="keyword">this</span>.transform.position.y;</span><br><span class="line">                <span class="comment">//得到子弹向量</span></span><br><span class="line">                Vector3 dir = point - <span class="keyword">this</span>.transform.position;</span><br><span class="line">                <span class="comment">// 创建子弹实例并飞出去</span></span><br><span class="line">                Instantiate(bullet, <span class="keyword">this</span>.transform.position, Quaternion.LookRotation(dir));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>运行结果</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%B8%89_1.%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C.gif" class="" title="InputSystem_练习三_1.运行结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<h2 id="InputActions输入操作配置文件"><a href="#InputActions输入操作配置文件" class="headerlink" title="InputActions输入操作配置文件"></a>InputActions输入操作配置文件</h2><p><strong><font size="4">什么是输入配置文件？</font></strong></p>
<ul>
<li>输入系统中提供了一种输入配置文件，你可以理解它是InputAction的集合，可以在一个文件中编辑多个InputAction的信息。</li>
<li>里面记录了想要处理的行为和动作（也就是InputAction的相关信息），我们可以在其中自己定义 InputAction（比如：开火、移动、旋转等），然后为这个InputAction关联对应的输入动作。</li>
<li>之后将该配置文件和PlayerInput进行关联，PlayerInput会自动帮助我们解析该文件，当触发这些InputAction输入动作时会以分发事件的形式通知我们执行行为。</li>
</ul>
<p><strong><font size="4">编辑输入配置文件</font></strong></p>
<p><strong><font size="3">创建输入配置文件</font></strong></p>
<ul>
<li>在Project窗口右键Create创建InputActions配置文件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" class="" title="InputSystem_InputActions输入操作配置文件_创建配置文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">查看输入配置文件</font></strong></p>
<ul>
<li>inputactions后缀的文件本质是json文件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" class="" title="InputSystem_InputActions输入操作配置文件_配置文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">编辑输入配置文件</font></strong></p>
<ul>
<li>双击创建出的文件，会弹出配置窗口。</li>
<li>在配置窗口进行配置。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">配置窗口参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>①ActionMaps 行动地图窗口（多套操作规范）</li>
<li>②Actions 输入动作窗口（InputAction集合）</li>
<li>③Properties 输入操作绑定的输入属性（InputAction相关设置）</li>
<li>④工具栏 提供保存、搜索等功能按键</li>
</ul>
<blockquote>
<p>注意：每次更改后都要点击保存配置 或者勾选自动保存</p>
</blockquote>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-%E4%BF%9D%E5%AD%98.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-保存"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">ActionMaps 行动地图窗口</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-ActionMaps.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-ActionMaps"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>可以理解为配置文件中的行为分组配置，可以配置多套操作规范。</li>
<li>右键或点击加号可以创建新的配置，或者移除父复制等。</li>
</ul>
<p><strong><font size="3">Actions 输入动作窗口</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-Actions.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-Actions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>我们在这里可以加号或者右键创建各种InputAciton</li>
<li>好处是不需要在代码中声明InputAction变量了，可以直接进行添加键盘配置。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-Actions-%E9%94%AE%E7%9B%98%E9%85%8D%E7%BD%AE.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-Actions-键盘配置"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Properties 输入操作绑定的输入属性</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-Properties.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-Properties"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>和普通InputAction点击齿轮的选项一样。</li>
</ul>
<p><strong><font size="3">工具栏 提供保存、搜索等功能按键</font></strong></p>
<p>左上 设置编辑器中显示哪些控制方案</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-%E6%8E%A7%E5%88%B6%E6%96%B9%E6%A1%88.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-控制方案"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>Gamepad：手柄</li>
<li>Joystick：摇杆</li>
<li>KeyboardMouse：键盘鼠标</li>
<li>Touch：触屏</li>
<li>XR：VR&#x2F;AR等</li>
</ul>
<p>All Devices：设备选择</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-All_Devices.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-All_Devices"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>当切换了控制方案后，该控制方案可能是由多个设备配合控制，可以在这里进一步筛选对应设备。</li>
<li>比如图中前面的控制方案切换了键盘鼠标后，可以在这二次筛选。</li>
</ul>
<p>保存配置</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E9%85%8D%E7%BD%AE%E7%AA%97%E5%8F%A3%E5%8F%82%E6%95%B0-%E4%BF%9D%E5%AD%98.png" class="" title="InputSystem_InputActions输入操作配置文件_配置窗口参数-保存"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Save Asset：保存配置</li>
<li>Auto-Save：自动保存</li>
</ul>
<p><strong><font size="4">编辑配置文件基本操作流程</font></strong></p>
<ul>
<li>左上角添加控制方案比如手柄和鼠标键盘，下面的小列表分别选择设备。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-1.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-1"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-2.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-3.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-3"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>绑定键盘和手柄的按键</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-4.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-4"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在每一个绑定设备中就可以选择设备的控制方案。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-5.png" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-5"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>左上角选择控制方案，可以筛选设备，选择了控制方案后可以二次筛选设备。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E8%BE%93%E5%85%A5%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.gif" class="" title="InputSystem_InputActions输入操作配置文件_编辑配置文件基本操作流程-测试结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<h3 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.请配置一个玩家鼠标键盘输入配置，玩家有移动、跳跃、开火等行为</font></strong></p>
<ul>
<li>在配置文件汇总配置设备组件</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E5%9B%9B_1.%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_练习四_1.测试结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<h2 id="InputActions文件生成C-代码"><a href="#InputActions文件生成C-代码" class="headerlink" title="InputActions文件生成C#代码"></a>InputActions文件生成C#代码</h2><p><strong><font size="4">创建配置文件</font></strong></p>
<ul>
<li>配置文件中创建两套行为（这里用的是自带的PlayerInput玩家输入组件，下面会写怎么创建）</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-1.png" class="" title="InputSystem_InputActions文件生成C#代码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-2.png" class="" title="InputSystem_InputActions文件生成C#代码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="4">根据配置文件生成C#代码</font></strong></p>
<ul>
<li>选择InputActions文件 勾选GenerateC#Class</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-3.png" class="" title="InputSystem_InputActions文件生成C#代码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在Inspector窗口设置生成路径，类名，命名空间</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-4.png" class="" title="InputSystem_InputActions文件生成C#代码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>应用后生成代码</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-5.png" class="" title="InputSystem_InputActions文件生成C#代码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>生成的代码中是根据InputAction配置文件解析Json 生成了类 提供一些方法</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> @<span class="title">PlayerInput</span>: <span class="title">IInputActionCollection2</span>, <span class="title">IDisposable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        UnityEngine.Object.Destroy(asset);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.bindingMask&quot; /&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> InputBinding? bindingMask</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; asset.bindingMask;</span><br><span class="line">        <span class="keyword">set</span> =&gt; asset.bindingMask = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.devices&quot; /&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> ReadOnlyArray&lt;InputDevice&gt;? devices</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; asset.devices;</span><br><span class="line">        <span class="keyword">set</span> =&gt; asset.devices = <span class="keyword">value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.controlSchemes&quot; /&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> ReadOnlyArray&lt;InputControlScheme&gt; controlSchemes =&gt; asset.controlSchemes;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.Contains(InputAction)&quot; /&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Contains</span>(<span class="params">InputAction action</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> asset.Contains(action);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.GetEnumerator()&quot; /&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerator&lt;InputAction&gt; <span class="title">GetEnumerator</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> asset.GetEnumerator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;IEnumerable.GetEnumerator()&quot; /&gt;</span></span></span><br><span class="line">    IEnumerator IEnumerable.GetEnumerator()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> GetEnumerator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;inheritdoc cref=&quot;UnityEngine.InputSystem.InputActionAsset.Enable()&quot; /&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Enable</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        asset.Enable();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Player</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputActionMap m_Player;</span><br><span class="line">    <span class="keyword">private</span> List&lt;IPlayerActions&gt; m_PlayerActionsCallbackInterfaces = <span class="keyword">new</span> List&lt;IPlayerActions&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_Player_Move;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_Player_Move1;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_Player_Look;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_Player_Fire;</span><br><span class="line">    <span class="comment">// UI</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputActionMap m_UI;</span><br><span class="line">    <span class="keyword">private</span> List&lt;IUIActions&gt; m_UIActionsCallbackInterfaces = <span class="keyword">new</span> List&lt;IUIActions&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_Navigate;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_Submit;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_Cancel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_Point;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_Click;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_ScrollWheel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_MiddleClick;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_RightClick;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_TrackedDevicePosition;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> InputAction m_UI_TrackedDeviceOrientation;</span><br><span class="line">    <span class="comment">//.......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong><font size="4">使用C#代码进行监听</font></strong></p>
<ul>
<li>创建一个Input配置文件对象用于监听输入</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    PlayerInput playerInput;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Start中创建生成的代码对象，激活配置文件的输入，添加事件监听。Update中监听移动输入</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//1.创建生成的代码对象</span></span><br><span class="line">        playerInput = <span class="keyword">new</span> PlayerInput(); <span class="comment">//实例化一个Input配置文件对象</span></span><br><span class="line">        <span class="comment">//2.激活输入</span></span><br><span class="line">        playerInput.Enable();<span class="comment">//启动输入</span></span><br><span class="line">        <span class="comment">//3.事件监听</span></span><br><span class="line">        playerInput.Player.Fire.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;鼠标点击Fire&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(playerInput.Player.Move.ReadValue&lt;Vector2&gt;());<span class="comment">//监听输入并打印</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>测试结果</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputActions%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C.png" class="" title="InputSystem_InputActions文件生成代码-测试结果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<h3 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.请使用上一道小球的练习题的基础上，制作的输入配置文件，为一个球体处理移动、旋转、跳跃、开火的逻辑</font></strong></p>
<ul>
<li>配置好配置文件，生成配置文件脚本</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E4%BA%94_1.%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" class="" title="InputSystem_练习五_1.配置文件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>新建脚本 把小球练习的脚本内容大致拷贝过来 注释InputAction相关 挂载到场景中</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//[Header(&quot;移动控制&quot;)]</span></span><br><span class="line">    <span class="comment">//public InputAction move;</span></span><br><span class="line">    <span class="comment">//[Header(&quot;跳跃控制&quot;)]</span></span><br><span class="line">    <span class="comment">//public InputAction jump;</span></span><br><span class="line">    <span class="comment">//[Header(&quot;开火控制&quot;)]</span></span><br><span class="line">    <span class="comment">//public InputAction fire;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Rigidbody body; <span class="comment">// 刚体组件，用于实现物体的运动</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        body = <span class="keyword">this</span>.GetComponent&lt;Rigidbody&gt;(); <span class="comment">// 获取当前游戏对象的刚体组件</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        move.Enable(); // 启用移动控制输入</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        jump.Enable(); // 启用跳跃控制输入</span></span><br><span class="line"><span class="comment">        jump.performed += (context) =&gt;</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            // 跳跃逻辑，给物体施加向上的力（利用物理系统刚体加力）</span></span><br><span class="line"><span class="comment">            body.AddForce(Vector3.up * 200);</span></span><br><span class="line"><span class="comment">        &#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        fire.Enable(); // 启用开火控制输入</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        fire.performed += (context) =&gt;</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            // 开火逻辑，通过鼠标位置的射线检测确定子弹飞出去的方向</span></span><br><span class="line"><span class="comment">            RaycastHit info;</span></span><br><span class="line"><span class="comment">            if (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), out info))</span></span><br><span class="line"><span class="comment">            &#123;</span></span><br><span class="line"><span class="comment">                // 得到子弹飞出去的向量</span></span><br><span class="line"><span class="comment">                Vector3 point = info.point;</span></span><br><span class="line"><span class="comment">                //让y轴和小球y相等 否则可能会在地下发射</span></span><br><span class="line"><span class="comment">                point.y = this.transform.position.y;</span></span><br><span class="line"><span class="comment">                //得到子弹向量</span></span><br><span class="line"><span class="comment">                Vector3 dir = point - this.transform.position;</span></span><br><span class="line"><span class="comment">                // 创建子弹实例并飞出去</span></span><br><span class="line"><span class="comment">                Instantiate(bullet, this.transform.position, Quaternion.LookRotation(dir));</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;;*/</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Vector3 dir; <span class="comment">// 存储移动方向的向量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明一个公共游戏对象bullet，用于存储子弹的预制体</span></span><br><span class="line">    <span class="keyword">public</span> GameObject bullet;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        dir = move.ReadValue&lt;Vector2&gt;(); // 读取移动输入的值，即鼠标或键盘的输入</span></span><br><span class="line"><span class="comment">        dir.z = dir.y; // 将移动向量的y值赋给z值，因为我们只需要在水平方向上移动</span></span><br><span class="line"><span class="comment">        dir.y = 0; // 将移动向量的y值设为0，保证物体不会上下移动</span></span><br><span class="line"><span class="comment">        body.AddForce(dir); // 通过刚体组件给物体施加力，实现移动*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>创建配置文件对象 new出来并激活</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    PlayerInput playerInput;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput = <span class="keyword">new</span> PlayerInput();</span><br><span class="line">        playerInput.Enable();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>给配置文件对象的移动、跳跃、开火添加监听，逻辑和之前一样就行</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SphereInputControl</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">     PlayerInput playerInput;</span><br><span class="line">    <span class="keyword">private</span> Rigidbody body; <span class="comment">// 刚体组件，用于实现物体的运动</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput = <span class="keyword">new</span> PlayerInput();</span><br><span class="line">        playerInput.Enable();</span><br><span class="line"></span><br><span class="line">        body = <span class="keyword">this</span>.GetComponent&lt;Rigidbody&gt;(); <span class="comment">// 获取当前游戏对象的刚体组件</span></span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">        playerInput.Player.Jump.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 跳跃逻辑，给物体施加向上的力（利用物理系统刚体加力）</span></span><br><span class="line">            body.AddForce(Vector3.up * <span class="number">200</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">        playerInput.Player.Fire.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 开火逻辑，通过鼠标位置的射线检测确定子弹飞出去的方向</span></span><br><span class="line">            RaycastHit info;</span><br><span class="line">            <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 得到子弹飞出去的向量</span></span><br><span class="line">                Vector3 point = info.point;</span><br><span class="line">                <span class="comment">//让y轴和小球y相等 否则可能会在地下发射</span></span><br><span class="line">                point.y = <span class="keyword">this</span>.transform.position.y;</span><br><span class="line">                <span class="comment">//得到子弹向量</span></span><br><span class="line">                Vector3 dir = point - <span class="keyword">this</span>.transform.position;</span><br><span class="line">                <span class="comment">// 创建子弹实例并飞出去</span></span><br><span class="line">                Instantiate(bullet, <span class="keyword">this</span>.transform.position, Quaternion.LookRotation(dir));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Vector3 dir; <span class="comment">// 存储移动方向的向量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明一个公共游戏对象bullet，用于存储子弹的预制体</span></span><br><span class="line">    <span class="keyword">public</span> GameObject bullet;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        dir = playerInput.Player.Move.ReadValue&lt;Vector2&gt;(); <span class="comment">// 读取移动输入的值，即鼠标或键盘的输入</span></span><br><span class="line">        dir.z = dir.y; <span class="comment">// 将移动向量的y值赋给z值，因为我们只需要在水平方向上移动</span></span><br><span class="line">        dir.y = <span class="number">0</span>; <span class="comment">// 将移动向量的y值设为0，保证物体不会上下移动</span></span><br><span class="line">        body.AddForce(dir); <span class="comment">// 通过刚体组件给物体施加力，实现移动</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>测试结果与上面一样</li>
</ul>
<h2 id="PlayerInput玩家输入组件"><a href="#PlayerInput玩家输入组件" class="headerlink" title="PlayerInput玩家输入组件"></a>PlayerInput玩家输入组件</h2><p><strong><font size="4">PlayerInput是什么？</font></strong></p>
<ul>
<li>PlayerInput是InputSystem提供的专门用于接受玩家输入来处理自定义逻辑的组件。</li>
</ul>
<p>**<font size="3">主要工作原理：</font>**ss</p>
<ul>
<li>配置输入文件（InputActions文件）。</li>
<li>通过PlayerInput关联配置文件，它会自动解析该配置文件。</li>
<li>关联对应的响应函数，处理对应逻辑。</li>
</ul>
<p><strong><font size="3">好处：</font></strong></p>
<ul>
<li>不需要自己进行相关输入的逻辑书写。</li>
<li>通过配置文件即可配置想要监听的对应行为。</li>
<li>让我们专注于输入事件触发后的逻辑处理。</li>
</ul>
<p><strong><font size="4">添加PlayerInput组件</font></strong></p>
<ul>
<li>选择任意对象（一般为一个玩家对象）。</li>
<li>为其添加PlayerInput组件。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_%E6%B7%BB%E5%8A%A0%E7%BB%84%E4%BB%B6.png" class="" title="InputSystem_PlayerInput玩家输入组件_添加组件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>创建出来的配置文件默认会自动设置好一些默认的行为并关联按键</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_PlayerInput.png" class="" title="InputSystem_PlayerInput玩家输入组件_PlayerInput"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="4">PlayerInput参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_PlayerInput%E5%8F%82%E6%95%B0.png" class="" title="InputSystem_PlayerInput玩家输入组件_PlayerInput参数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Actions：行为</font></strong></p>
<ul>
<li>一套输入动作的配置文件和玩家相关联，帮助我们监听一些按键的输入。</li>
<li>可以点击Actions下面的CreateActions按钮来创建配置文件，创建出来的配置文件默认会自动设置好一些默认的行为并关联按键。</li>
</ul>
<p><strong><font size="3">Default Scheme：默认控制方案</font></strong><br><strong><font size="3">Auto-Switch：自动切换控制方案</font></strong><br><strong><font size="3">Default Map：默认行为映射方案</font></strong></p>
<ul>
<li>选择那一套设置好的配置。</li>
</ul>
<p><strong><font size="3">Ui Input Module：UI输入模块</font></strong></p>
<ul>
<li>关联EventSystem。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_%E5%85%B3%E8%81%94EventSystem.png" class="" title="InputSystem_PlayerInput玩家输入组件_关联EventSystem"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_%E5%85%B3%E8%81%94EventSystem-2.png" class="" title="InputSystem_PlayerInput玩家输入组件_关联EventSystem"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_%E5%85%B3%E8%81%94EventSystem-3.png" class="" title="InputSystem_PlayerInput玩家输入组件_关联EventSystem"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<p><strong><font size="3">Camera：摄像机</font></strong></p>
<ul>
<li>关联摄像机，当分屏设置时才需修改此选项。</li>
</ul>
<p><strong><font size="3">Behavior：行为执行模式</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_Behavior.png" class="" title="InputSystem_PlayerInput玩家输入组件_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>SendMessage：将逻辑脚本挂载在和PlayerInput同一对象上，会通过SendMessage通知执行对应函数。</li>
<li>BroadcastMessage：将逻辑脚本挂载在其自身或子对象上，会通过BroadcastMessage通知执行对应函数。</li>
<li>Invoke UnityEvent Actions：通过拖拽脚本关联函数指明想要执行的函数逻辑。</li>
<li>Invoke CSharp Events：通过C#事件监听处理对应逻辑，通过获取PlayerInput进行事件监听。</li>
</ul>
<h2 id="PlayerInput组件行为执行模式"><a href="#PlayerInput组件行为执行模式" class="headerlink" title="PlayerInput组件行为执行模式"></a>PlayerInput组件行为执行模式</h2><p><strong><font size="4">Send Messages</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_Send_Messages.png" class="" title="InputSystem_PlayerInput玩家输入组件_Send_Messages"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>在自定义脚本中申明名为 “On+行为名” 的函数，没有参数或者参数类型为 InputValue。将该自定义脚本挂载到 PlayerInput 依附的对象上，当触发对应输入时会自动调用函数。<br>并且还有默认的 3 个和设备相关的函数可以调用：</p>
<ul>
<li>设备注册(当控制器从设备丢失中恢复并再次运行时会触发)：OnDeviceRegained(PlayerInput input)</li>
<li>设备丢失（玩家失去了分配给它的设备之一，例如，当无线设备耗尽电池时）：OnDeviceLost(PlayerInput input)</li>
<li>控制器切换：OnControlsChanged(PlayerInput input)</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnMove</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Move&quot;</span>);</span><br><span class="line">    print(<span class="string">&quot;Move&quot;</span> + <span class="keyword">value</span>.Get&lt;Vector2&gt;());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnLook</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Look&quot;</span>);</span><br><span class="line">    print(<span class="string">&quot;Look&quot;</span> + <span class="keyword">value</span>.Get&lt;Vector2&gt;());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnFire</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Fire&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">value</span>.isPressed)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;Fire按下&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnDeviceLost</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;设备丢失&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnDeviceRegained</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;设备注册&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnControlsChanged</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;控制器切换&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>挂载脚本在 Player 对象上后，这种模式下会自动寻找对象身上的脚本是否有对应名字的函数。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_Send_Messages-2.png" class="" title="InputSystem_PlayerInput玩家输入组件_Send_Messages"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">Broadcast Messages</font></strong></p>
<ul>
<li>基本和 SendMessage 规则一致，唯一的区别是，自定义脚本不仅可以挂载在 PlayerInput 依附的对象上，还可以挂载在其子对象下。</li>
</ul>
<p><strong><font size="4">Invoke Unity Events</font></strong></p>
<ul>
<li><p>该模式可以让我们在 Inspector 窗口上通过拖拽的形式关联响应函数，但是注意：响应函数的参数类型需要改为 InputAction.CallbackContext。</p>
</li>
<li><p>切换成Invoke Unity Events后 下方展开可以看到事件关联列表</p>
</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_Invoke_Unity_Events.png" class="" title="InputSystem_PlayerInput玩家输入组件_Invoke_Unity_Events"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>在脚本中声明函数并拖拽关联进行测试：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyFire</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;开火1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyMove</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;移动1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MyLook</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;Look1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInput%E7%8E%A9%E5%AE%B6%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6_Invoke_Unity_Events-%E6%B7%BB%E5%8A%A0%E5%87%BD%E6%95%B0.png" class="" title="InputSystem_PlayerInput玩家输入组件_Invoke_Unity_Events-添加函数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>这种模式的好处是可以关联别的对象身上的脚本函数。</li>
</ul>
<p><strong><font size="4">Invoke C Sharp Events</font></strong></p>
<ul>
<li>获取 PlayerInput 组件：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    PlayerInput playerInput;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput = transform.GetComponent&lt;PlayerInput&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>获取对应事件进行委托函数添加：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput.onDeviceLost += OnDeviceLost;</span><br><span class="line">        playerInput.onDeviceRegained += OnDeviceRegained;</span><br><span class="line">        playerInput.onControlsChanged += OnControlsChanged;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输入触发事件，任何输入都会触发该事件</span></span><br><span class="line">        playerInput.onActionTriggered += OnActionTrigger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDeviceLost</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDeviceRegained</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnControlsChanged</span>(<span class="params">PlayerInput input</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnActionTrigger</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>可以通过 PlayerInput 中的 currentActionMap 属性得到对应行为的值：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput.currentActionMap[<span class="string">&quot;Move&quot;</span>].ReadValue&lt;Vector2&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>当触发输入时会自动触发事件调用对应函数：</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Text</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnActionTrigger</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;触发OnActionTrigger&quot;</span>);</span><br><span class="line">        <span class="keyword">switch</span> (context.action.name)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Fire&quot;</span>:</span><br><span class="line">                <span class="comment">// 输入阶段的判断 触发阶段 才去做逻辑</span></span><br><span class="line">                <span class="keyword">if</span> (context.phase == InputActionPhase.Performed)</span><br><span class="line">                    print(<span class="string">&quot;开火&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Look&quot;</span>:</span><br><span class="line">                print(<span class="string">&quot;看向&quot;</span>);</span><br><span class="line">                print(context.ReadValue&lt;Vector2&gt;());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Move&quot;</span>:</span><br><span class="line">                print(<span class="string">&quot;移动&quot;</span>);</span><br><span class="line">                print(context.ReadValue&lt;Vector2&gt;());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p><strong><font size="4">关键参数InputValue和InputAction.CallbackContext</font></strong></p>
<p><strong><font size="3">InputValue</font></strong></p>
<ul>
<li>判断是否按下单个按键或按钮：inputValue.isPressed</li>
<li>获取 Vector2 类型的值：inputValue.Get<Vector2>()</li>
</ul>
<p><strong><font size="3">InputAction.CallbackContext</font></strong></p>
<ul>
<li>获取 Vector2 类型的值的 x 和 y 属性：callbackContext.ReadValue<Vector2>().x、callbackContext.ReadValue<Vector2>().y</li>
<li>获取输入行为的名字：callbackContext.action.name，例如 Fire、Move</li>
<li>获取输入控件的名字：callbackContext.control.name，例如 wasd</li>
<li>获取输入控件所属的设备的名字：callbackContext.control.device.name，例如 Keyboard</li>
<li>获取输入阶段的枚举值：callbackContext.phase，例如 InputActionPhase.Performed、InputActionPhase.Started</li>
<li>获取输入阶段的字符串表示：callbackContext.phase.ToString()，例如 “Performed”、”Started”</li>
</ul>
<p><strong><font size="4">总结</font></strong></p>
<ul>
<li>建议使用Invoke Unity Events或Invoke CSharp Events的方式，效率更高。</li>
</ul>
<h3 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h3><p><strong><font size="4">1.请使用上一道小球练习题制作的输入配置文件，用PlayerInput为一个对象处理移动、跳跃、开火的逻辑，分别用4种行为执行模式处理一次</font></strong></p>
<ul>
<li>移除之前的小球控制脚本，给小球添加PlayerInput组件，新创建一个配置文件进行关联</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E5%85%AD_1.%E6%B7%BB%E5%8A%A0%E7%BB%84%E4%BB%B6.png" class="" title="InputSystem_练习六_1.添加组件"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>创建脚本，添加必要的变量，外部关联</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SpherePlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject bullet; <span class="comment">//子弹预制体</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Rigidbody body; <span class="comment">//刚体组件 外部拖拽</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Vector3 dir; <span class="comment">//移动方向</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> PlayerInput playerInput; <span class="comment">//玩家输入组件</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E5%85%AD_1.%E8%B5%8B%E5%80%BC%E5%85%B3%E8%81%94.png" class="" title="InputSystem_练习六_1.赋值关联"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">SendMessages</font></strong></p>
<ul>
<li>修改PlayerInput为SendMessages模式，声明对应的On行为函数，移动代码要在Update调用，因为OnMove只会在改变时调用一次不会每帧调用</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SpherePlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnJump</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        body.AddForce(Vector3.up * <span class="number">200</span>); <span class="comment">//给刚体添加向上的力</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnFire</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//鼠标位置的射线检测</span></span><br><span class="line">        RaycastHit info;</span><br><span class="line">        <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info)) <span class="comment">//从摄像机到鼠标位置发射一条射线，如果碰到物体，返回碰撞信息</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//得到子弹飞出去的向量</span></span><br><span class="line">            Vector3 point = info.point; <span class="comment">//获取碰撞点坐标</span></span><br><span class="line">            point.y = <span class="keyword">this</span>.transform.position.y; <span class="comment">//调整y轴坐标和自身一致</span></span><br><span class="line">            Vector3 dir = point - <span class="keyword">this</span>.transform.position; <span class="comment">//计算子弹方向向量</span></span><br><span class="line">                                                        <span class="comment">//创建子弹 飞出去</span></span><br><span class="line">            Instantiate(bullet, <span class="keyword">this</span>.transform.position, Quaternion.LookRotation(dir)); <span class="comment">//实例化子弹，并设置位置和旋转角度</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//需要获取值的 这种函数 需要注意 只会在改变时进入函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnMove</span>(<span class="params">InputValue <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        dir = <span class="keyword">value</span>.Get&lt;Vector2&gt;(); <span class="comment">//获取Vector2类型的值</span></span><br><span class="line">        dir.z = dir.y; <span class="comment">//转换为Vector3类型的值</span></span><br><span class="line">        dir.y = <span class="number">0</span>;</span><br><span class="line">        Debug.Log(<span class="string">&quot;OnMove dir&quot;</span> + dir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Update前 dir&quot;</span> + dir);</span><br><span class="line">        <span class="keyword">if</span> (dir == Vector3.zero) <span class="keyword">return</span>;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Update后 dir&quot;</span> + dir);</span><br><span class="line">        body.AddForce(dir); <span class="comment">//给刚体添加移动方向的力</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">BroadcastMessages</font></strong></p>
<ul>
<li>修改PlayerInput为BroadcastMessages模式下 ，把脚本挂载到子对象上，也能实现输入。代码复用SendMessages的就行</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E5%85%AD_1.BroadcastMessages.png" class="" title="InputSystem_练习六_1.BroadcastMessages"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Invoke Unity Events</font></strong></p>
<ul>
<li>修改PlayerInput为Invoke Unity Events模式，声明有不同参数的重载On行为函数，要手动拖对象进行脚本函数关联</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SpherePlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnJump</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (context.phase != InputActionPhase.Performed) <span class="comment">//判断输入阶段是否为Performed</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        body.AddForce(Vector3.up * <span class="number">200</span>); <span class="comment">//给刚体添加向上的力</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnFire</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (context.phase != InputActionPhase.Performed) <span class="comment">//判断输入阶段是否为Performed</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//鼠标位置的射线检测</span></span><br><span class="line">        RaycastHit info;</span><br><span class="line">        <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info)) <span class="comment">//从摄像机到鼠标位置发射一条射线，如果碰到物体，返回碰撞信息</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//得到子弹飞出去的向量</span></span><br><span class="line">            Vector3 point = info.point; <span class="comment">//获取碰撞点坐标</span></span><br><span class="line">            point.y = <span class="keyword">this</span>.transform.position.y; <span class="comment">//调整y轴坐标和自身一致</span></span><br><span class="line">            Vector3 dir = point - <span class="keyword">this</span>.transform.position; <span class="comment">//计算子弹方向向量</span></span><br><span class="line">                                                        <span class="comment">//创建子弹 飞出去</span></span><br><span class="line">            Instantiate(bullet, <span class="keyword">this</span>.transform.position, Quaternion.LookRotation(dir)); <span class="comment">//实例化子弹，并设置位置和旋转角度</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//需要获取值的 这种函数 需要注意 只会在改变时进入函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnMove</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        dir = context.ReadValue&lt;Vector2&gt;(); <span class="comment">//获取Vector2类型的值</span></span><br><span class="line">        dir.z = dir.y; <span class="comment">//转换为Vector3类型的值</span></span><br><span class="line">        dir.y = <span class="number">0</span>;</span><br><span class="line">        Debug.Log(<span class="string">&quot;OnMove dir&quot;</span> + dir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Update前 dir&quot;</span> + dir);</span><br><span class="line">        <span class="keyword">if</span> (dir == Vector3.zero) <span class="keyword">return</span>;</span><br><span class="line">        Debug.Log(<span class="string">&quot;Update后 dir&quot;</span> + dir);</span><br><span class="line">        body.AddForce(dir); <span class="comment">//给刚体添加移动方向的力</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E7%BB%83%E4%B9%A0%E5%85%AD_1.Invoke_Unity_Events.png" class="" title="InputSystem_练习六_1.Invoke_Unity_Events"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Invoke C Sharp Events</font></strong></p>
<ul>
<li>修改PlayerInput为Invoke C Sharp Events模式，在Start时给onActionTriggered 注册监听，判断行为名字且在触发阶段才执行逻辑</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SpherePlayerInput</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//........</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        playerInput.onActionTriggered += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">switch</span> (context.action.name)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;Move&quot;</span>:</span><br><span class="line">                    dir = context.ReadValue&lt;Vector2&gt;(); <span class="comment">//获取Vector2类型的值</span></span><br><span class="line">                    dir.z = dir.y; <span class="comment">//转换为Vector3类型的值</span></span><br><span class="line">                    dir.y = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;Jump&quot;</span>:</span><br><span class="line">                    <span class="keyword">if</span> (context.phase == InputActionPhase.Performed) <span class="comment">//判断输入阶段是否为Performed</span></span><br><span class="line">                        body.AddForce(Vector3.up * <span class="number">200</span>); <span class="comment">//给刚体添加向上的力</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;Fire&quot;</span>:</span><br><span class="line">                    <span class="comment">//鼠标位置的射线检测</span></span><br><span class="line">                    <span class="comment">//不是按键触发事件 就不处理后面的内容了</span></span><br><span class="line">                    <span class="keyword">if</span> (context.phase != InputActionPhase.Performed) <span class="comment">//判断输入阶段是否为Performed</span></span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    RaycastHit info;</span><br><span class="line">                    <span class="keyword">if</span> (Physics.Raycast(Camera.main.ScreenPointToRay(Mouse.current.position.ReadValue()), <span class="keyword">out</span> info)) <span class="comment">//从摄像机到鼠标位置发射一条射线，如果碰到物体，返回碰撞信息</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//得到子弹飞出去的向量</span></span><br><span class="line">                        Vector3 point = info.point; <span class="comment">//获取碰撞点坐标</span></span><br><span class="line">                        point.y = <span class="keyword">this</span>.transform.position.y; <span class="comment">//调整y轴坐标和自身一致</span></span><br><span class="line">                        Vector3 dir = point - <span class="keyword">this</span>.transform.position; <span class="comment">//计算子弹方向向量</span></span><br><span class="line">                                                                    <span class="comment">//创建子弹 飞出去</span></span><br><span class="line">                        Instantiate(bullet, <span class="keyword">this</span>.transform.position, Quaternion.LookRotation(dir)); <span class="comment">//实例化子弹，并设置位置和旋转角度</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong><font size="3">测试结果</font></strong></p>
<ul>
<li>测试结果和之前测试的一样，故省略</li>
</ul>
<h2 id="PlayerInputManager玩家输入管理组件"><a href="#PlayerInputManager玩家输入管理组件" class="headerlink" title="PlayerInputManager玩家输入管理组件"></a>PlayerInputManager玩家输入管理组件</h2><p><strong><font size="4">PlayerInputManager的作用</font></strong></p>
<ul>
<li>PlayerInputManager 组件主要是用于管理本地多人输入的输入管理器。</li>
<li>它主要管理玩家加入和离开，比如分屏游戏和双手柄游戏。</li>
</ul>
<p><strong><font size="4">PlayerInputManager组件参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%BB%84%E4%BB%B6-%E5%8F%82%E6%95%B0.png" class="" title="InputSystem_PlayerInputManager组件-参数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Notification Behavior</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%BB%84%E4%BB%B6-Notification_Behavior.png" class="" title="InputSystem_PlayerInputManager组件-Notification_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>当玩家进入时PlayerInputManager如何通知关联的对象。它的工作方式和PlayerInput相同。</li>
</ul>
<p><strong><font size="3">Join Behavior：玩家加入的机制</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%BB%84%E4%BB%B6-Join_Behavior.png" class="" title="InputSystem_PlayerInputManager组件-Join_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Join Players When Button Is Pressed：当有新设备加入按下任意键，或者没有任何玩家时按下任意键。</li>
<li>Join Players When Join Action Is Triggered：当有新设备加入按下指定按键触发玩家加入，一般选择这个。</li>
<li>Join Players Manually：不要自动加入玩家，需要自己手动加入玩家。</li>
</ul>
<p><strong><font size="3">Player Prefab：挂载PlayerInput组件的游戏对象</font></strong></p>
<p><strong><font size="3">Joining Enabled By Default：启用后，新加玩家按照JoinBehavior的规则加入，默认勾选。</font></strong><br><strong><font size="3">Limit Number Of Players：启用后，可以限制加入游戏的玩家数量</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%BB%84%E4%BB%B6-Limit_Number_Of_Players.png" class="" title="InputSystem_PlayerInputManager组件-Limit_Number_Of_Players"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Max Player Count：允许参加游戏的最大玩家数。</li>
</ul>
<p><strong><font size="3">Enable Split-Screen：如果启用，会自动为每个对象分配可用屏幕区域的一部分，用于多人分屏游戏</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%BB%84%E4%BB%B6-Enable_Split_Screen.png" class="" title="InputSystem_PlayerInputManager组件-Enable_Split_Screen"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Maintain Aspect Ratio：在启用分屏功能时，控制屏幕区域的纵横比是否与实际屏幕分辨率相匹配。当这个参数为真时，游戏会生成屏幕区域，保持与实际屏幕分辨率相同的纵横比。这意味着无论屏幕分割成多少区域，每个区域的宽高比都会与整个屏幕的宽高比相同。</li>
<li>Set Fixed Number：如果该值大于零，则PlayerInputManager始终将屏幕分割为固定数量的矩形，而不考虑实际的玩家数量。</li>
<li>Screen Rectangle：可用于分配播放器拆分屏幕的规范化屏幕矩形。</li>
</ul>
<p><strong><font size="4">PlayerInputManager使用</font></strong><br><strong><font size="3">键盘和手柄测试</font></strong></p>
<ul>
<li>创建预制体方块创建预制体方块，添加PlayerInput组件和脚本。创建配置文件关联到预制体方块PlayerInput组件。关联到PlayerInputManger的玩家预制体上。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%9B%E5%BB%BA%E9%A2%84%E5%88%B6%E4%BD%93.png" class="" title="InputSystem_PlayerInputManager的使用-创建预制体"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%85%B3%E8%81%94%E8%B5%8B%E5%80%BC.png" class="" title="InputSystem_PlayerInputManager的使用-关联赋值"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<blockquote>
<p>注意关联玩家预制一定要有PlayerInput组件，否则创建出来会报错。</p>
</blockquote>
<ul>
<li>调整方块预制体对象输入行为为手动关联模式关联脚本上的Move函数。注意假如直接拖一个方块预制体上去就能移动。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%85%B3%E8%81%94%E5%87%BD%E6%95%B0.png" class="" title="InputSystem_PlayerInputManager的使用-关联函数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Vector3 dir;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(dir * <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>(<span class="params">InputAction.CallbackContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        dir = context.ReadValue&lt;Vector2&gt;();</span><br><span class="line">        dir.z = dir.y;</span><br><span class="line">        dir.y = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>选择模式选择成按A键和手柄开始键可以创建新的方块预制体，分别按了后发现WASD可以移动A键创建的预制体，手柄摇杆能控制手柄开始键创建出来的预制体。这是PlayerInputManager帮我们自动处理的。因为我们关联的配置文件键鼠和手柄两套输入法则（其实还有多套）。注意一定要下面加入规则要勾选。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E8%A7%84%E5%88%99-1.png" class="" title="InputSystem_PlayerInputManager的使用-规则"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E8%A7%84%E5%88%99-2.png" class="" title="InputSystem_PlayerInputManager的使用-规则"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>假如是任意键模式的话也差不多键鼠按一个键创建一个键鼠控制的方块。按手柄一个键创建一个手柄控制的方块。注意一定要下面加入规则要勾选。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E8%A7%84%E5%88%99-3.png" class="" title="InputSystem_PlayerInputManager的使用-规则"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">分屏</font></strong></p>
<ul>
<li>让方块预制体挂载一个摄像机，勾选分屏选项挂载后用键鼠和手柄分别创建方块，会自动分屏。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%86%E5%B1%8F-1.png" class="" title="InputSystem_PlayerInputManager的使用-分屏"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%86%E5%B1%8F-3.png" class="" title="InputSystem_PlayerInputManager的使用-分屏"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>运行测试</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%86%E5%B1%8F-2.png" class="" title="InputSystem_PlayerInputManager的使用-分屏"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>用PlayerInputManager的单例获取PlayerInputManager给PlayerInputManager添加玩家进入和离开的事件。记得要把这段代码依赖的脚本挂载到场景上，不然事件添加不超成功。这样在键鼠或手柄创建方块时会执行监听的实际，手动删除方块时也会执行对应事件。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//获取PlayerInputManager</span></span><br><span class="line">        <span class="comment">//PlayerInputManager.instance</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//玩家加入时</span></span><br><span class="line">        PlayerInputManager.instance.onPlayerJoined += (playerInput) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;创建了一个玩家&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//玩家离开时</span></span><br><span class="line">        PlayerInputManager.instance.onPlayerLeft += (playerInput) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;离开了一个玩家&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%86%E5%B1%8F-5.png" class="" title="InputSystem_PlayerInputManager的使用-分屏"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_PlayerInputManager%E7%9A%84%E4%BD%BF%E7%94%A8-%E5%88%86%E5%B1%8F-4.png" class="" title="InputSystem_PlayerInputManager的使用-分屏"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<h2 id="InputSystem支持UGUI"><a href="#InputSystem支持UGUI" class="headerlink" title="InputSystem支持UGUI"></a>InputSystem支持UGUI</h2><p><strong><font size="4">InputSystem对UI的支持</font></strong></p>
<p><strong><font size="3">不支持</font></strong></p>
<ul>
<li>新输入系统InputSystem不支持IMGUI（GUI）</li>
</ul>
<blockquote>
<p>注意：这个限制只对编辑器代码有效，不会影响其他部分。<br>如果当前激活的是InputSystem，则OnGUI中的输入判断相关内容不会被触发。<br>要让OnGUI中的内容有效，你需要选择Both（两者都启用）或者只激活老输入系统InputManager。</p>
</blockquote>
<p><strong><font size="3">支持</font></strong></p>
<ul>
<li>新输入系统支持UGUI</li>
<li>但是，要使用新输入系统的输入模块（Input System UI Input Module）来处理与UGUI相关的输入。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E5%85%B3%E8%81%94.png" class="" title="InputSystem_InputSystem支持UGUI-关联"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>关联成功</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E5%85%B3%E8%81%94%E6%88%90%E5%8A%9F.png" class="" title="InputSystem_InputSystem支持UGUI-关联成功"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">UGUI中的新输入系统输入模块参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E5%85%B3%E8%81%94%E6%88%90%E5%8A%9F.png" class="" title="InputSystem_InputSystem支持UGUI-关联成功"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Move Repeat Delay</font></strong></p>
<ul>
<li>生成初始IMoveHandler之间的初始延迟（秒）。OnMove导航事件，并在移动操作保持激活状态时生成重复的导航事件。</li>
</ul>
<p><strong><font size="3">Move Repeat Rate</font></strong></p>
<ul>
<li>移动动作保持激活时，生成重复导航事件之间的间隔（秒）。请注意，这是由帧速率限制的；每帧不会有多个移动重复事件，因此，如果帧速率低于重复率，则有效重复率将低于此设置。</li>
</ul>
<p><strong><font size="3">XR Tracking Origin</font></strong><br><strong><font size="3">Deselect On Background CLick</font></strong></p>
<ul>
<li>默认情况下，当指针被点击并且没有击中任何游戏对象时，当前选择被清除。然而，这可能会妨碍键盘和游戏板导航，因为它们需要关闭当前选定的对象。要防止自动取消选择，请将此属性设置为false。</li>
</ul>
<p><strong><font size="3">Pointer Behavior</font></strong></p>
<ul>
<li>如何处理将输入送入UI的多个指针</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-Pointer_Behavior.png" class="" title="InputSystem_InputSystem支持UGUI-Pointer_Behavior"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>Single Mouse Or Pen BUt Multi Touch And Track</p>
<ul>
<li>对于未分类为触摸或跟踪输入的所有输入，其行为类似于单个统一指针，对于跟踪和触摸输入，其行为类似于所有指针。例如，如果在鼠标和笔上接收到并发输入，则将两者的输入馈送到同一UI指针实例中。其中一个的位置输入将覆盖另一个的位置。请注意，当从触摸或跟踪设备接收到输入时，鼠标和笔的单个统一指针将被删除，包括在鼠标&#x2F;笔光标当前悬停在对象上时发送的IPointerExit事件。</li>
</ul>
<p>Single Unified Pointer</p>
<ul>
<li>所有指针输入都是统一的，因此只有一个指针。这包括触摸和跟踪输入。例如，这意味着，无论有多少设备将输入输入输入点，只有帧中最后一个这样的输入才会生效并成为当前UI指针的位置。</li>
</ul>
<p>All Pointers As Is</p>
<ul>
<li>UI输入模块不会统一任何指针输入。任何设备，包括提供输入指针类型动作的触摸和跟踪设备，都将是其自己的指针（或触摸输入的多个指针）。注意：这可能意味着UI中将有任意数量的指针，并且可能同时指向多个对象。</li>
</ul>
<p><strong><font size="3">Actions Asset</font></strong><br>包含控制UI的所有操作的输入操作资产。您可以使用以下属性选择资产中的哪些操作对应于哪些UI输入。默认情况下，这将引用名为DefaultInputActions的内置资产，该资产包含用于驱动UI的常见默认操作。如果要设置自己的操作，请创建自定义输入操作资源并在此处分配。在Inspector中将新资源引用指定给此字段时，编辑器会尝试根据常用命名约定自动将操作映射到UI输入。</p>
<p><strong><font size="3">Point</font></strong><br>提供2D屏幕位置的动作。用作指向UI元素的光标，以实现鼠标样式的UI交互。设置为传递操作类型和向量2值类型。</p>
<p><strong><font size="3">Left Click</font></strong><br>映射到用于与UI交互的主光标按钮的操作。设置为传递操作类型和按钮值类型。</p>
<p><strong><font size="3">Middle Click</font></strong><br>映射到用于与UI交互的中间光标按钮的操作。设置为传递操作类型和按钮值类型。</p>
<p><strong><font size="3">Right Click</font></strong><br>映射到用于与UI交互的辅助光标按钮的操作。设置为传递操作类型和按钮值类型。</p>
<p><strong><font size="3">Scroll Wheel</font></strong><br>提供手势输入以允许在UI中滚动的操作。设置为传递操作类型和向量2值类型。</p>
<p><strong><font size="3">Move</font></strong><br>一种操作，提供用于选择当前活动用户界面的二维矢量。这允许游戏板或箭头键样式的UI导航。设置为传递操作类型和向量2值类型。</p>
<p><strong><font size="3">Submit</font></strong><br>与当前选择的UI接触或“单击”的操作。设置为按钮动作类型。</p>
<p><strong><font size="3">Cancel</font></strong><br>退出与当前选定UI的任何交互的操作。设置为按钮动作类型。</p>
<p><strong><font size="3">Tracked Position</font></strong><br>提供一个或多个空间跟踪设备（如XR hand控制器）的3D位置的动作。结合跟踪设备方向，这允许通过指向空间中的UI可选择项进行XR样式的UI交互。设置为传递操作类型和向量3值类型。</p>
<p><strong><font size="3">Tracked Orientation</font></strong><br>传递表示一个或多个空间跟踪设备（如XR hand控制器）旋转的四元数的操作。结合跟踪设备位置，这允许通过指向空间中的UI可选择项进行XR样式的UI交互。设置为传递操作类型和四元数值类型。</p>
<p><strong><font size="4">VR相关中使用新输入系统注意事项</font></strong></p>
<ul>
<li>如果想在VR项目中使用新输入系统配合UGUI使用</li>
<li>需要在Canvas对象上添加Tracked Device Raycaster组件。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-VR.png" class="" title="InputSystem_InputSystem支持UGUI-VR"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">多人游戏使用多套UI</font></strong></p>
<ul>
<li>如果同一设备上的多人游戏，每个人想要使用自己的一套独立UI</li>
<li>需要将 EventSystem 中的 EventSystem 组件替换为 Multiplayer Event System 组件</li>
<li>注意：需要先把 EventSystem 上的 InputSystemUIInputModule 组件和 EventSystem 组件移除之后再重新添加，否则会移除失败</li>
</ul>
<p><strong><font size="3">Multiplayer Event System</font></strong></p>
<ul>
<li>与 EventSystem 组件不同，可以在场景中同时激活多个 MultiplayerEventSystem。</li>
<li>这样，您可以有多个玩家，每个玩家都有自己的 InputSystemUIInputModule 和 MultiplayerEventSystem 组件。</li>
<li>每个玩家都可以有自己的一组操作来驱动自己的 UI 实例。</li>
<li>如果您正在使用 PlayerInput 组件，还可以设置 PlayerInput 以自动配置玩家的 InputSystemUIInputModule 以使用玩家的操作。</li>
<li>MultilayerEventSystem 组件的属性与事件系统中的属性相同。</li>
<li>此外，MultiplayerEventSystem 组件还添加了一个 playerRoot 属性，您可以将其设置为一个游戏对象，该游戏对象包含此事件系统应在其层次结构中处理的所有 UI 可选择项。</li>
</ul>
<p><strong><font size="4">On-Screen 组件相关</font></strong></p>
<ul>
<li>On-Screen 组件可以模拟 UI 和用户操作的交互</li>
<li>On-Screen Button：按钮交互</li>
<li>On-Screen Stick：摇杆交互</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-On_Screen_Button.png" class="" title="InputSystem_InputSystem支持UGUI-On_Screen_Button"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-On_Screen_Stick.png" class="" title="InputSystem_InputSystem支持UGUI-On_Screen_Stick"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">测试</font></strong></p>
<ul>
<li>因为小球之前的输入配置文件设置好了摇杆和跳跃的逻辑和关联的设备，只要在 On-Screen 组件关联设备就行了。</li>
<li>比如 On-Screen Stick 关联手柄摇杆，手柄摇杆能控制小球移动，所以 On-Screen Stick 所在的 image 可以当做摇杆拖拽控制小球移动。</li>
<li>同理，On-Screen Button 关联空格键，空格键能控制小球跳跃，那么点击 On-Screen Button 所在的 UI 按钮小球也能跳跃。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E9%81%A5%E6%84%9F%E6%8E%A7%E5%88%B6-1.png" class="" title="InputSystem_InputSystem支持UGUI-遥感控制"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E9%81%A5%E6%84%9F%E6%8E%A7%E5%88%B6-2.png" class="" title="InputSystem_InputSystem支持UGUI-遥感控制-2"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputSystem%E6%94%AF%E6%8C%81UGUI-%E9%81%A5%E6%84%9F%E6%8E%A7%E5%88%B6-3.gif" class="" title="InputSystem_InputSystem支持UGUI-遥感控制"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>




<h2 id="InputDebug输入调试器"><a href="#InputDebug输入调试器" class="headerlink" title="InputDebug输入调试器"></a>InputDebug输入调试器</h2><p><strong><font size="4">什么是InputDebug</font></strong></p>
<ul>
<li>InputDebug顾名思义是输入调试器的意思</li>
<li>我们可以通过输入调试窗口检测输入相关信息</li>
<li>当我们的输入不按预期工作时，可以通过它来排查问题</li>
</ul>
<p><strong><font size="4">打开InputDebug窗口</font></strong></p>
<ul>
<li>Window(窗口)-&gt;Analysis(分析)-&gt;Input Debugger(输入调试器)</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-%E6%89%93%E5%BC%80.png" class="" title="InputSystem_InputDebug输入调试器-打开"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-%E6%89%93%E5%BC%80-2.png" class="" title="InputSystem_InputDebug输入调试器-打开"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">InputDebug窗口上的信息</font></strong></p>
<p><strong><font size="3">未运行状态</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-%E6%9C%AA%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81.png" class="" title="InputSystem_InputDebug输入调试器-未运行状态"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>Options 操作下拉框</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-Options.png" class="" title="InputSystem_InputDebug输入调试器-Options"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>Add Devices Not Listed in Supported Devices 添加未在支持的设备中列出的设备</li>
<li>Enable Event Diagnostics 启用事件诊断</li>
<li>Simulate TOuch Input From Mouse or pen 模拟鼠标或笔的触摸输入</li>
</ul>
<p>Remote Devices 远程设备<br>Devices 系统中当前所有输入设备列表</p>
<ul>
<li>Unsupported 不支持、无法识别的设备列表</li>
</ul>
<p>Layouts 设备布局列表</p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-Layouts.png" class="" title="InputSystem_InputDebug输入调试器-Layouts"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Controls 所有已注册的设备控制列表</li>
<li>Abstract Devices 抽象设备</li>
<li>Specific Devices 特定设备</li>
</ul>
<p>Settings 设置相关 默认的一些特殊输入设置<br>Metrics 指标相关 输入系统资源使用情况的统计信息</p>
<p><strong><font size="3">运行状态</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81.png" class="" title="InputSystem_InputDebug输入调试器-运行状态"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">双击设备</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_InputDebug%E8%BE%93%E5%85%A5%E8%B0%83%E8%AF%95%E5%99%A8-%E5%8F%8C%E5%87%BB%E8%AE%BE%E5%A4%87.png" class="" title="InputSystem_InputDebug输入调试器-双击设备"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<h2 id="获取任意键输入的信息"><a href="#获取任意键输入的信息" class="headerlink" title="获取任意键输入的信息"></a>获取任意键输入的信息</h2><p><strong><font size="4">回顾学过的获取任意键输入的方法</font></strong></p>
<p><strong><font size="3">键盘任意键按下</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> InputAction input;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        input.Enable();</span><br><span class="line">        input.performed += (context) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;键盘任意键按下&quot;</span>);</span><br><span class="line">            print(context.control.name);</span><br><span class="line">            print(context.control.path);</span><br><span class="line">            <span class="comment">//无法判断出具体是哪个键进行按下</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E8%8E%B7%E5%8F%96%E4%BB%BB%E6%84%8F%E9%94%AE%E8%BE%93%E5%85%A5%E7%9A%84%E4%BF%A1%E6%81%AF-1.png" class="" title="InputSystem_获取任意键输入的信息"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">键盘任意键按下字符</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Keyboard.current.onTextInput += (c) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;键盘任意键按下字符&quot;</span> + c);</span><br><span class="line">            <span class="comment">//这样打印只能打印出数字和字母 对于空格和回车这种特殊字符无法打印出</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E8%8E%B7%E5%8F%96%E4%BB%BB%E6%84%8F%E9%94%AE%E8%BE%93%E5%85%A5%E7%9A%84%E4%BF%A1%E6%81%AF-2.png" class="" title="InputSystem_获取任意键输入的信息"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">InputSystem中专门用于任意键按下的方案</font></strong></p>
<p><strong><font size="3">InputSystem.onAnyButtonPress.CallOnce</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//如果用Call 按键盘会报错 但是也能正常执行</span></span><br><span class="line">        <span class="comment">//InputSystem.onAnyButtonPress.Call((control) =&gt;</span></span><br><span class="line">        <span class="comment">//用CallOnce 只会执行一次 但是不会报错</span></span><br><span class="line">        InputSystem.onAnyButtonPress.CallOnce((control) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;InputSystem中专门用于任意键按下的方案 路径&quot;</span> + control.path);</span><br><span class="line">            print(<span class="string">&quot;InputSystem中专门用于任意键按下的方案 名字&quot;</span> + control.name);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/InputSystem_%E8%8E%B7%E5%8F%96%E4%BB%BB%E6%84%8F%E9%94%AE%E8%BE%93%E5%85%A5%E7%9A%84%E4%BF%A1%E6%81%AF-3.png" class="" title="InputSystem_获取任意键输入的信息"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>















































<h1 id="Unity进阶VideoPlayer（视频播放）"><a href="#Unity进阶VideoPlayer（视频播放）" class="headerlink" title="Unity进阶VideoPlayer（视频播放）"></a>Unity进阶VideoPlayer（视频播放）</h1><h2 id="视频格式和编解码器"><a href="#视频格式和编解码器" class="headerlink" title="视频格式和编解码器"></a>视频格式和编解码器</h2><p><strong><font size="4">为什么学习视频格式和编解码器</font></strong></p>
<ul>
<li>视频格式和视频的编解码器</li>
<li>会影响Unity在不同平台是否能正常播放视频</li>
<li>所以我们必须简单了解视频格式和编解码器的本质，才能学习关于视频兼容性的相关知识</li>
</ul>
<p><strong><font size="4">视频文件的本质</font></strong><br><strong><font size="3">本质</font></strong></p>
<ul>
<li>视频文件本质上就是一个 “<strong><font color=red>数据容器</font></strong>“</li>
<li>它不仅可以包含视频数据本身它还包括<br>1.音频<br>2.字幕<br>3.轨道信息（轨道还可以有多个，比如不同语言的字幕，不同语言的音频）</li>
<li>等等其它内容</li>
</ul>
<p><strong><font size="3">格式</font></strong></p>
<ul>
<li>不同格式的视频文件，比如.mp4、.mov、.avi、.webm等</li>
<li>它们表示视频文件中的数据是使用某种容器格式排列的</li>
</ul>
<blockquote>
<p>说人话：视频的本质就是一堆数据（图像、音频、字幕等等）的集合<br>不同格式的视频区别就是存读数据的方式方法不同而已</p>
</blockquote>
<p><strong><font size="4">视频的编码器和解码器</font></strong></p>
<ul>
<li>我们了解了视频的本质就是一堆数据的集合</li>
<li>为了节省带宽和存储空间，视频中每个轨道（不同的音频，字幕等等信息）</li>
<li>都使用”编解码器”进行编码和解码</li>
<li>编码器负责压缩数据，解码器负责解压数据</li>
<li>通过它们对视频数据进行压缩和解压</li>
<li>常见的视频编解码格式为：H.264</li>
<li>常见的音频编解码格式为：AAC</li>
</ul>
<blockquote>
<p>说人话：<br>视频的编码器负责将视频数据进行压缩节约空间<br>视频的解码器负责将视频数据进行解压解压后才能用于播放<br>他们本质上就是压缩和解压数据的一种规则<br>所以我们在播放视频时，要用合适的解码器（规则）来解压视频</p>
</blockquote>
<p><strong><font size="4">硬件和软件解码</font></strong><br>我们了解了什么是“编解码器<br>那所谓的硬件和软件解码其实就是<br>解码（将视频信息解压）的这个过程是通过硬件来完成的<br>还是通过软件来完成的</p>
<p><strong><font size="3">硬件解码</font></strong><br>目前大多数的设备都有专用于解码视频的硬件<br>一般是由GPU（图形处理器，显卡的核心硬件）来进行硬件解码的<br>使用GPU进行硬件解码可以降低CPU的工作负荷，降低功耗<br>节省电量，节省性能<br>这种硬件加速可通过本机自定义API实现，这些API因平台而异<br>Unity帮助我们进行了封装，提供了通用的API供我们使用<br>Unity也会自己帮助我们判断来进行硬件解码</p>
<p><strong><font size="3">硬件解码优缺点</font></strong></p>
<ul>
<li>优点：效率高，降低功耗</li>
<li>缺点：无法支持所有视频格式文件，画质不是特别清晰</li>
</ul>
<p><strong><font size="3">软件解码</font></strong><br>软件解码相当于就是Unity自己利用CPU进行计算来进行解码<br>此软件解码方案使用VP8视频编解码器和Vorbis音频编解码器<br>如果平台的硬件解码方式在分辨率、多个音频轨道或Alpha通道支持方面带来<br>了不必要的限制，则软件解码将非常有用<br>但是软件解码会增加CPU的工作负荷<br>Unity也提供了基于软件的视频解码</p>
<p><strong><font size="3">软件解码优缺点</font></strong></p>
<ul>
<li>优点：能够解码所有视频格式文件，画质更加清晰</li>
<li>缺点：增加CPU工作负荷，更耗电，解码时会造成明显卡顿</li>
</ul>
<p><strong><font size="3">硬件和软件解码简单总结</font></strong><br>硬件解码就是有个专门的一个计算机硬件设备帮助我们进行解码计算一般是GPU来进行硬件解码<br>软件解码就是软件自己通过代码规则来进行解码<br>本质上就是通过CPU去计算处理解码<br>所以硬件解码理论上来说效率和速度都比软件解码快<br>Unity两种方式都有提供，但具体使用哪种要根据平台而定</p>
<p><strong><font size="4">总结</font></strong></p>
<ul>
<li><p>1.视频文件的本质<br>记录了视频、音频、字幕、轨道信息等内容的数据容器</p>
</li>
<li><p>2.视频的编码器和解码器<br>编码器用于压缩视频数据，解码器用于解压视频数据</p>
</li>
<li><p>3.硬件和软件解码<br>硬件解码是通过GPU对视频数据进行解压，效率高效果差<br>软件解码是通过CPU对视频数据进行解压，效率低效果好</p>
</li>
</ul>
<h2 id="Unity中的视频兼容性"><a href="#Unity中的视频兼容性" class="headerlink" title="Unity中的视频兼容性"></a>Unity中的视频兼容性</h2><p><strong><font size="4">视频格式和编解码器知识点回顾</font></strong><br>视频的本质就是一堆数据（图像、音频、字幕等等）的集合<br>不同格式的视频区别就是存读数据的方式方法不同而已<br>视频的编码器负责将视频数据进行压缩节约空间<br>视频的解码器负责将视频数据进行解压解压后才能用于播放<br>他们本质上就是压缩和解压数据的一种规则<br>所以我们在播放视频时，要用合适的解码器（规则）来解压视频</p>
<p><strong><font size="4">Unity编辑器中的兼容性问题</font></strong></p>
<p><strong><font size="3">视频兼容性的含义</font></strong><br>所谓的兼容性就是指硬件之间、软件之间或是软硬件组合系统之间的相互<br>协调工作的程度<br>对于视频文件的兼容性<br>可以理解为当游戏在不同的操作系统上运行时<br>该操作系统环境是否支持该视频的播放</p>
<p><strong><font size="3">Unity编辑器中的视频兼容性</font></strong><br>我门可以在Windows、MacOS这两个常用操作系统上使用Unity进行开发<br>我们可以将许多不同格式的视频文件导入Unity中<br>但是如果我们想要在Unity编辑器中正常预览视频文件<br>那么视频文件必须和这些平台兼容（必须是该平台支持的视频格式）<br>而视频是否兼容对应平台，主要由两个因素决定<br>1.视频文件格式<br>2.视频文件使用的编解码器</p>
<p><strong><font size="3">关键因素一：文件格式</font></strong></p>
<ul>
<li>常用操作系统对视频格式的支持</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E8%A7%86%E9%A2%91%E5%85%BC%E5%AE%B9%E6%80%A7_%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F.png" class="" title="VideoPlayer_视频兼容性_文件格式"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>一般我们在Windows（微软的操作系统）上使用Unity开发游戏<br>或者在macOS（苹果的操作系统）上开发游戏<br>所以我们主要看这两个平台上支持的格式<br>Windows 和 macOS 都支持的格式<br>.dv、.m4v、.mov、.mp4、mpg、mpeg、.ogv、vp8、webm<br>建议选择最常见的.mp4，是不会错的</p>
<p><strong><font size="3">关键因素二：解编码器</font></strong><br>就算使用了都支持的文件格式<br>但是如果制作视频时使用的编解码器在平台上不受支持<br>也会导致视频不能正常使用或者引起Unity报错<br>建议大家使用H.264编解码器制作视频<br>它是大多数平台支持的最佳视频编解码器，提供最佳的跨平台兼容性<br>如果想了解更多Windows和macOS操作系统支持的编解码器<br>Windows: <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/win32/medfound/supported-media-formats-in-media-foundation">https://docs.microsoft.com/en-us/windows/win32/medfound/supported-media-formats-in-media-foundation</a><br>macOs: <a target="_blank" rel="noopener" href="https://developer.apple.com/liverview/MediaLayer/MediaLayerhtml">https://developer.apple.com/liverview/MediaLayer/MediaLayerhtml</a></p>
<p><strong><font size="3">总结</font></strong><br>决定视频兼容性的因素有两个<br>视频格式和视频编解码器<br>如果想要在Unity编辑器中正常预览视频<br>建议让制作视频的同事导出格式为mp4编解码器使用H.264的视频<br>它能满足大多数常用平台的兼容性需求</p>
<p><strong><font size="4">发布目标平台的兼容性问题</font></strong></p>
<p><strong><font size="3">目标平台的兼容性问题</font></strong><br>我们刚才讲的兼容性内容都是基于Unity编辑器的<br>考虑的都是使用Unity编辑器进行开发的平台能不能播放视频<br>但是视频最终在哪个平台播放对于玩家来说才是更重要的<br>比如：我们在Windows上开发，最终要发布为IOS、Android平台上<br>那么这个视频最终目的是要在lOS、Android这两个操作系统上能正常播放<br>Windows能不能正常播其实都不是那么重要了，不能播无非就是不能预览<br>但是如果在目标平台上不能播放，那么玩家体验是极其不好的<br>所以目标平台的兼容性问题考虑的就是目标平台是否可以正常播放视频</p>
<p><strong><font size="3">我们可以分三种情况来考虑目标平台的兼容性问题</font></strong></p>
<ul>
<li><p>第一种情况：<br>视频与Unity编辑器平台兼容，但和目标平台不兼容</p>
</li>
<li><p>第二种情况：<br>视频与Unity编辑器平台不兼容，但是和目标平台兼容</p>
</li>
<li><p>第三种情况：<br>视频与Unity编辑器平台和目标平台都兼容</p>
</li>
</ul>
<p><strong><font size="3">视频与Unity编辑器平台兼容，与目标平台不兼容</font></strong><br>比如：</p>
<ul>
<li>视频和Windows或者MacOS操作系统兼容，但是与要发布游戏的IOS或者Android平台不兼容</li>
</ul>
<p>解决方案：</p>
<ul>
<li>Unity视频剪辑导入器提供了转码功能<br>当我们发布应用时可以进行转码来解决该问题<br>Unity自带转码功能，可以将视频编解码器转码为H.264、H.265、VP8<br>所谓的转码，就是将视频原本的编解码规则变为其它的标准</li>
</ul>
<p><strong><font size="3">视频与Unity编辑器平台不兼容，与目标平台兼容</font></strong><br>比如：</p>
<ul>
<li>视频和Windows或者MacOS操作系统不兼容，但是与要发布游戏的IOS或者Android平台兼容</li>
</ul>
<p>解决方案：</p>
<ul>
<li>一般这种情况下，我们是更希望使用兼容发布平台的格式和编解码器的，所以我<br>们可以将这些资源放置在StreamingAssets文件夹中<br>在使用视频时，我们根据所在的平台选择性使用对应内容</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E8%A7%86%E9%A2%91%E5%85%BC%E5%AE%B9%E6%80%A7_%E5%B9%B3%E5%8F%B0define%E6%8C%87%E4%BB%A4.png" class="" title="VideoPlayer_视频兼容性_平台define指令"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>代码示例：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//编辑器和Linux时使用哪个视频</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_EDIIOR || UNITY_LINUX</span></span><br><span class="line"><span class="comment">//安卓平台时使用哪个视频</span></span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> UNITY_ANDROID</span></span><br><span class="line"><span class="comment">//IOS平台时使用哪个视频</span></span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> UNITY_IOS</span></span><br><span class="line"><span class="comment">//其他情况使用哪个视频</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">视频与Unity编辑器平台和目标平台都兼容</font></strong><br>在这种情况下，我们不需要进行额外的处理<br>直接正常关联视频进行播放即可<br>这种情况也是我们更加希望达到的<br>这样我们就不需要转码，也不需要根据平台判断了</p>
<p><strong><font size="3">简单记忆目标平台兼容性问题</font></strong></p>
<ul>
<li><p>最保险的组合就是mp4格式+h.264编解码器<br>如果游戏想要发布的平台很多，那么编解码器可以使用VP8</p>
</li>
<li><p>H.265是新的编码协议，也即是H.264的升级版<br>H.265标准保留了H.264原来的某些技术，同时对一些相关技术进行了改进<br>新技术使用先进的技术用以改善码流、编码质量、延时和算法复杂度之间的关系，达到最优化设置</p>
</li>
<li><p>可使用h.265编解码器的平台<br>macOS 11.13+<br>Windows Windows 10<br>IOS 11.0+<br>Android 5.0+</p>
</li>
</ul>
<p><strong><font size="4">Android和IOS支持的编解码器</font></strong><br>目前我们开发的游戏一般都是PC和手机<br>所有我们主要了解安卓和苹果手机对兼容性的要求即可<br>Android：<a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/media/media-formats#recommendations">https://developer.android.com/guide/topics/media/media-formats#recommendations</a><br>IOS：<a target="_blank" rel="noopener" href="https://www.apple.com/iphone/compare/">https://www.apple.com/iphone/compare/</a></p>
<p><strong><font size="4">总结</font></strong><br>对于我们来说<br>游戏发布的目标平台兼容性更加重要<br>mp4格式+H.264或者VP8编解码器可以在绝大多数的操作系统上正常播放<br>如果为了极致的提高性能<br>可以准备多个视频文件<br>针对不同的设备使用不同的视频<br>能用H.265的就用H.265编解码器</p>
<h2 id="视频资源参数"><a href="#视频资源参数" class="headerlink" title="视频资源参数"></a>视频资源参数</h2><p><strong><font size="4">为什么要对视频剪辑进行设置？</font></strong><br>当我们将准备好的视频导入Unity后，我们可以选中该视频剪辑，并在Inspector窗口中进行设置。<br>设置视频剪辑的主要原因包括：</p>
<ul>
<li>预览视频效果</li>
<li>查看视频文件的基本信息</li>
<li>设置视频剪辑是否开启转码设置</li>
</ul>
<p>通过对视频剪辑进行转码相关设置，我们可以保证在各平台都能正常播放。</p>
<p><strong><font size="3">基本信息</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF.png" class="" title="VideoPlayer_基本信息"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">源信息</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E6%BA%90%E4%BF%A1%E6%81%AF.png" class="" title="VideoPlayer_源信息"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">转码</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E8%BD%AC%E7%A0%81.png" class="" title="VideoPlayer_转码"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="4">视频剪辑设置参数相关</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%8F%82%E6%95%B0.png" class="" title="VideoPlayer_参数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">sRGB 是否开启sRGB</font></strong></p>
<ul>
<li>sRGB是微软联合惠普、三菱、爱普生等厂商联合开发的通用色彩标准。它的主要作用是避免在不同设备出现色差。一般默认让它勾选即可。</li>
</ul>
<p><strong><font size="3">Transcode 是否开启转码</font></strong></p>
<ul>
<li>开启后下方参数才能被设置。</li>
</ul>
<p><strong><font size="3">Dimensions 控制源文件内容的大小调整方式</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Dimensions.png" class="" title="VideoPlayer_Dimensions"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Original：保持原始大小</li>
<li>Three Quarter Res：将源大小调整为其原始宽度和高度的四分之三</li>
<li>Half Res：将源大小调整为其原始宽度和高度的一半</li>
<li>Quarter Res：将源大小调整为其原始宽度和高度的四分之一</li>
<li>Square(1024x1024)：将源大小调整为1024x1024正方形图像。宽高比可控</li>
<li>Square(512x512)：将源大小调整为512x512正方形图像。宽高比可控</li>
<li>Square(256x256)：将源大小调整为256x256正方形图像。宽高比可控</li>
<li>Custom Size：将源大小调整为自定义分辨率。宽高比可控</li>
</ul>
<p><strong><font size="3">Width和Height</font></strong></p>
<ul>
<li>只有Custom Size下有这选项</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Dimensions_Custom_Size.png" class="" title="VideoPlayer_Dimensions_Custom_Size"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Width：生成图像的宽</li>
<li>Height：生成图像的高</li>
</ul>
<p><strong><font size="3">Aspect Ratio：调整图像大小时使用的宽高比</font></strong></p>
<ul>
<li>Original下没有这选项</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Dimensions_Aspect_Ratio.png" class="" title="VideoPlayer_Dimensions_Aspect_Ratio"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>No Scaling：根据需求添加黑色区域以保留原始宽高比</li>
<li>Stretch：拉伸原始内容以填充目标分辨率，不留黑色区域</li>
</ul>
<p><strong><font size="3">Codec 选择用于转码的解编码器</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Codec.png" class="" title="VideoPlayer_Codec"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Auto：为目标平台选择最合适的视频编解码器</li>
<li>H264：MPEG–4 高级视频编码 (AVC) 视频编解码器，受大多数平台上的硬件支持</li>
<li>H265：MPEG-H Part 2 或高效视频编码 (HEVC) 视频编解码器，受某些平台上的硬件支持</li>
<li>VP8：VP8视频编解码器，受到大多数平台上的软件支持，并受到 Android 和 WebGL 等几个平台上的硬件支持。</li>
</ul>
<p><strong><font size="3">Bitrate Mode 相对于所选编解码器的基线配置文件的低、中或高比特率</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Bitrate_Mode.png" class="" title="VideoPlayer_Dimensions_Bitrate_Mode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Low：低</li>
<li>Medium：中</li>
<li>High：高</li>
</ul>
<p><strong><font size="3">Spatial Quality 此设置决定视频图像在转码过程中是否压缩大小，缩小意味着它们占用的存储空间更少。但是，调整图像大小也会导致在播放期间出现模糊。</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Spatial_Quality.png" class="" title="VideoPlayer_Spatial_Quality"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>Low Spatial Quality：在转码期间图像大小显著减小（通常为原始尺寸的四分之一），然后在播放时扩展回原始大小。它可以节省最多的存储空间，但在播放时会产生最大的模糊度</li>
<li>Medium Spatial Quality：在转码期间图像大小适度减小（通常为原始尺寸的一半），然后在播放时扩展回原始大小。图像将比使用 Low Spatial Quality 选项的图像更清晰，所需存储空间有所减少。</li>
<li>High Spatial Quality：如果选择此选项，则不会调整大小。这意味着在转码期间图像大小不会减小，因此将保持视频的原始视觉清晰度。</li>
</ul>
<p><strong><font size="3">Keep Alpha 保留Alpha透明通道并在转码期间将其编码</font></strong></p>
<ul>
<li>仅对具有Alpha通道的源显示此属性。注意：Android平台的原生 VP8 支持中不包括透明度支持，这意味着必须启用转码，以便 Unity 使用其内部 Alpha 表示方法。</li>
</ul>
<p><strong><font size="3">Deinterlace（去交错设置）控制隔行扫描源在转码期间如何解除隔行扫描 去交错设置主要是为了优化动态画面的清晰度</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Deinterlace.png" class="" title="VideoPlayer_Deinterlace"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<ul>
<li>Off：源文件没有隔行扫描，不进行隔行扫描</li>
<li>Even：采用每个帧的偶数行，将其插入以创建缺失内容，丢弃奇数行</li>
<li>Odd：采用每个帧的奇数行，将其插入以创建缺失内容，丢弃偶数行</li>
</ul>
<blockquote>
<p>关于隔行和逐行扫描：<br>隔行扫描（Interlaced）和逐行扫描（Progressive）都是在显示设备表示运动图像的方法，隔行扫描方式是每一帧被分割为两场画面交替显示，逐行扫描方式是将每帧的所有画面同时显示。通常的液晶电视显示画面的扫描方法都是从左到右从上到下，每秒钟扫描固定的帧数。<br>隔行扫描就是每一帧被分割为两场，每一场包含了一帧中所有的奇数扫描行或者偶数扫描行，通常是先扫描奇数行得到第一场，然后扫描偶数行得到第二场。由于视觉暂留效应，人眼将会看到平滑的运动而不是闪动的半帧半帧的图像。但是这时会有几乎不会被注意到的闪烁出现，使得人眼容易疲劳。当屏幕的内容是横条纹时，这种闪烁特别容易被注意到。<br>逐行扫描每次显示整个扫描帧，如果逐行扫描的帧率和隔行扫描的场率相同，人眼将看到比隔行扫描更平滑的图像，相对于隔行扫描来说闪烁较小。<br>每一帧图像由电子束顺序地一行接着一行连续扫描而成，这种扫描方式称为逐行扫描。把每一帧图像通过两场扫描完成则是隔行扫描，两场扫描中，第一场(奇数场)只扫描奇数行，依次扫描1、3、5…行，而第二场(偶数场)只扫描偶数行，依次扫描2、4、6…行。隔行扫描技术在传送信号带宽不够的情况下起了很大作用，逐行扫描和隔行扫描的显示效果主要区别在稳定性上面，隔行扫描的行间闪烁比较明显，逐行扫描克服了隔行扫描的缺点，画面平滑自然无闪烁。在电视的标准显示模式中，i表示隔行扫描，p表示逐行扫描。</p>
</blockquote>
<p><strong><font size="3">Filp Horizontally 如果选中它，当转码时会将视频源文件内容沿水平轴翻转实现上下翻转</font></strong><br><strong><font size="3">Flip Vertically 如果选中它，当转码时会将视频源文件内容沿垂直轴翻转实现左右翻转</font></strong><br><strong><font size="3">Import Audio 只有存在音频轨道的视频才会出现该选项 如果勾选它，转码期间会导入音频轨道</font></strong></p>
<p><strong><font size="4">总结</font></strong></p>
<ul>
<li><p>视频剪辑相关设置的主要目的是为了设置视频转码相关方案，通过视频转码，可以让视频尽量支持各平台。</p>
</li>
<li><p>关于各平台的转码规则我们在上节课中就已经讲过：<br>可用于硬件加速并且本机支持的最优视频编解码器是 H.264。<br>当优先考虑跨平台支持时，VP8 是一个不错的选择。VP8 得到广泛支持并具有全面的功能集，但与硬件加速的编解码器（例如 H.264）相比，需要消耗更多的资源。<br>在支持 H.265 的设备上可以使用 H.265。<br>Android 使用原生库支持 VP8，因此 VP8 在某些 Android 设备上也可能获得硬件辅助。</p>
</li>
<li><p>一劳永逸 mp4 格式 + H.264 编解码器，根据设备情况考虑使用 VP8 和 H.265 编解码器。</p>
</li>
</ul>
<h2 id="VideoPlayer视频播放器"><a href="#VideoPlayer视频播放器" class="headerlink" title="VideoPlayer视频播放器"></a>VideoPlayer视频播放器</h2><p><strong><font size="4">VideoPlayer视频播放器是什么？</font></strong></p>
<ul>
<li>Video Player顾名思义是视频播放器的意思。</li>
<li>它是Unity提供给我们用于播放视频的组件。</li>
<li>该视频播放器组件可以在游戏中播放导入的视频剪辑文件。</li>
</ul>
<p><strong><font size="4">添加VideoPlayer视频播放器组件</font></strong></p>
<p><strong><font size="3">方法一：</font></strong></p>
<ul>
<li>在Hierarchy窗口点击加号，选择Video &gt; Video Player。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BA%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8%E7%BB%84%E4%BB%B6_%E6%96%B9%E6%B3%95%E4%B8%80.png" class="" title="VideoPlayer_创建视频播放器组件_方法一"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">方法二：</font></strong></p>
<ul>
<li>选择场景上任何一个对象，为其添加Video Player组件。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BA%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8%E7%BB%84%E4%BB%B6_%E6%96%B9%E6%B3%95%E4%BA%8C.png" class="" title="VideoPlayer_创建视频播放器组件_方法二"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">方法三：</font></strong></p>
<ul>
<li>直接将视频文件拖入到Hierarchy窗口中。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BA%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8%E7%BB%84%E4%BB%B6_%E6%96%B9%E6%B3%95%E4%B8%89.gif" class="" title="VideoPlayer_创建视频播放器组件_方法三"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">VideoPlayer视频播放器组件参数</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E6%92%AD%E6%94%BE%E5%99%A8%E7%BB%84%E4%BB%B6%E5%8F%82%E6%95%B0.png" class="" title="VideoPlayer_播放器组件参数"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">Source 视频源</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Source.png" class="" title="VideoPlayer_Source"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>Video Clip 视频剪辑</p>
<ul>
<li>可以直接将视频剪辑拖入此处或者选择视频剪辑进行关联。</li>
</ul>
<p>URL 视频路径</p>
<ul>
<li>选择视频的路径，可以是远程视频路径，点击Browse。也可以之后通过代码直接关联视频资源路径。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Source_URL.png" class="" title="VideoPlayer_Source_URL"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="4">UpdateMode 控制视频帧更新的同步方式</font></strong></p>
<ul>
<li>它决定了视频画面如何与Unity的渲染循环保持同步。这个设置对视频播放的流畅性和性能有直接影响。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Update_Mode.png" class="" title="VideoPlayer_Update_Mode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>DSP Time​</p>
<ul>
<li>视频的播放进度与Unity的音频系统时钟同步。</li>
<li>不受游戏时间缩放（Time.timeScale）的影响​​。即使游戏暂停（Time.timeScale &#x3D; 0），视频也会继续播放。</li>
<li>优先保证​​音频和视频帧的精确同步​​，避免音画不同步的问题。</li>
<li>性能开销相对较高。</li>
</ul>
<p>Game Time​</p>
<ul>
<li>视频的播放进度与Unity的游戏时间（Time.time）同步。</li>
<li>当游戏时间缩放（Time.timeScale）改变时（例如游戏暂停、慢动作效果），​​视频播放也会随之加速、减速或暂停​​。</li>
</ul>
<p>Unscaled Game Time</p>
<ul>
<li>视频的播放使用不受缩放影响的游戏时间（Time.unscaledDeltaTime），但会使用游戏的渲染循环来驱动。</li>
<li>是Game Time和DSP Time之间的一种折中方案。</li>
</ul>
<p><strong><font size="3">Play On Awake 场景启动时就播放视频</font></strong></p>
<ul>
<li>如果希望自己控制播放时机，请取消该选项。</li>
</ul>
<p><strong><font size="3">Wait For First Frame 等待第一帧</font></strong></p>
<ul>
<li>如果勾选该选项，Unity将等待视频第一帧准备好显示，如果取消勾选，可能会丢弃前几帧使视频时间与游戏保持同步。</li>
</ul>
<p><strong><font size="3">Loop 是否循环播放</font></strong><br><strong><font size="3">Skip On Drop 是否允许视频播放器跳过帧以赶上当前时间</font></strong></p>
<p><strong><font size="3">Playback Speed 表示播放速度的乘数，0~10之间的值</font></strong></p>
<ul>
<li>1表示正常速度，如果数值为2，则视频速度*2，表示两倍速播放。</li>
</ul>
<p><strong><font size="3">Render Mode 渲染方式</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode.png" class="" title="VideoPlayer_Render_Mode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Camera Far Plane 在摄像机的远平面上渲染</font></strong></p>
<p><strong><font size="3">Camera Near Plane 在摄像机的近平面上渲染</font></strong></p>
<p><strong><font size="3">Camera 定义接受视频的摄像机</font></strong><br><strong><font size="3">Alpha 视频的全局透明度</font></strong><br><strong><font size="3">3D Layout 视频会直接渲染到相机的远裁剪平面或近裁剪平面上，就像背景一样。</font></strong></p>
<ul>
<li>​​当视频本身是立体格式时，控制如何为场景中的左右眼相机分别渲染正确的图像。</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_3D_Layout.png" class="" title="VideoPlayer_3D_Layout"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>None​​</p>
<ul>
<li>​含义​​：默认选项。视频是普通的 2D 平面视频。​​同一个​​视频画面会同时渲染到左眼和右眼相机上。</li>
<li>​使用场景​​：在 VR 中播放普通的 2D 电影或视频，它不会有立体深度，但会作为一个巨大的屏幕漂浮在场景中。</li>
</ul>
<p>​​Over Under​​</p>
<ul>
<li>​含义​​：视频源是上下格式的立体视频。Unity 会自动为​​左眼相机​​渲染视频帧的​​上半部分​​，为​​右眼相机​​渲染视频帧的​​下半部分​​。 </li>
<li>​使用场景​​：在 VR 中播放上下格式的 3D 电影或 180°&#x2F;360° 全景视频。这是最常用的模式之一。</li>
</ul>
<p>​​Side by Side​​</p>
<ul>
<li>​含义​​：视频源是左右格式的立体视频。Unity 会自动为​​左眼相机​​渲染视频帧的​​左半部分​​，为​​右眼相机​​渲染视频帧的​​右半部分​​。</li>
<li>​使用场景​​：在 VR 中播放左右格式的 3D 内容。<br>​ <blockquote>
<p>Render Mode渲染模式为Camera Far Plane模式和Camera Near Plane模式下才有上面三个子选项</p>
</blockquote>
</li>
</ul>
<p><strong><font size="3">Render Texture 将视频渲染到渲染纹理中</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode_Render_Texture.png" class="" title="VideoPlayer_Render_Mode_Render_Texture"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Target Texture 用于渲染图像的渲染纹理</font></strong></p>
<ul>
<li>创建Render_Texture</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BARender_Texture.png" class="" title="VideoPlayer_创建Render_Texture"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>注意分辨率最好设置的和视频的一样 到时候通过ui创建image关联视频纹理</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BARender_Texture_%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.png" class="" title="VideoPlayer_创建Render_Texture_注意事项"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>创建UI RawImage</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%88%9B%E5%BB%BARaw_Image.png" class="" title="VideoPlayer_创建Raw_Image"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>设置Target Texture</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E8%AE%BE%E7%BD%AETarget_Texture.png" class="" title="VideoPlayer_设置Target_Texture"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>设置Raw Image</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E8%AE%BE%E7%BD%AETexture.png" class="" title="VideoPlayer_设置Texture"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<ul>
<li>运行效果</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode_Render_Texture_%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-2.gif" class="" title="VideoPlayer_Render_Mode_Render_Texture_运行效果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<blockquote>
<p>如果没有设置好分辨率 就会出现以下情况（视频模糊，尺寸比例不对等）</p>
</blockquote>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode_Render_Texture_%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C-1.gif" class="" title="VideoPlayer_Render_Mode_Render_Texture_运行效果"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="3">Material Override 通过游戏对象渲染器的材质将视频渲染到游戏对象的选定纹理属性中</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode_Material_Override.png" class="" title="VideoPlayer_Render_Mode_Material_Override"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">Renderer 用于渲染图像的渲染器 如果为None，则使用Video Player依附对象的上的渲染器</font></strong></p>
<p><strong><font size="3">API Only 不预先设置渲染到哪里，通过代码来设置视频渲染到哪里 通过Video Player中的 texture属性进行设置</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Render_Mode_API_Only.png" class="" title="VideoPlayer_Render_Mode_API_Only"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">Aspect Ratio 宽高比设置</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Aspect_Ratio.png" class="" title="VideoPlayer_Aspect_Ratio"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p>No Scaling 不使用缩放</p>
<p>Fit Vertically 垂直适应目标矩形</p>
<ul>
<li>必要时裁剪左侧和右侧或在每侧留下黑色区域以保留原视频的宽高比</li>
</ul>
<p>Fit Horizontally 水平适应目标矩形</p>
<ul>
<li>必要时裁剪顶部和底部或在顶或底留下黑色区域以保留原视频的宽高比</li>
</ul>
<p>Fit Inside 对原视频进行缩放而不必裁剪，但是可能会留黑边<br>Fit Outside 对原视频进行缩放，可能需要进行裁剪，但是不会留黑边<br>Stretch 在水平和垂直方向均进行缩放以适应目标矩形。不会保留源宽高比</p>
<p><strong><font size="3">Audio Output Mode 如何输出视频源的音频</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_Audio_Output_Mode.png" class="" title="VideoPlayer_Audio_Output_Mode"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p>None 不播放音频<br>Audio Source 发送给指定的音频源对象，允许Unity的音频处理</p>
<ul>
<li>Audio Source 用于播放音频轨道的音频源</li>
<li>关联音频源后声音通过关联的音频源进行输出。可以通过关联音频源控制视频的声音。</li>
</ul>
<p>Direct 直接绕过Unity音频处理，发送给音频输出硬件输出 比如直接通过手机硬件</p>
<ul>
<li>Mute 静音</li>
<li>Volume 音量</li>
</ul>
<p>API Only 通过代码将音频样本发送到关联的 AudioSampleProvider听诊器</p>
<p>Track Enabled 启用关联的音频轨道用于播放，必须在播放前设置（有的版本里没有这个选项）<br>-比如：Track 0[en, 2 ch]表示有一个音频轨道，语言是 en， 并且音频轨道有2个声道（2 ch），表示它是双声道音频轨道。</p>
<p><strong><font size="4">VideoPlayer视频播放器代码控制</font></strong></p>
<p><strong><font size="3">注意</font></strong></p>
<ul>
<li>使用 VideoPlayer 组件需要引用命名空间 UnityEngine.Video</li>
</ul>
<p><strong><font size="3">给相机添加VideoPlayer组件</font></strong></p>
<ul>
<li>将一个 VideoPlayer 附加到主摄像机。VideoPlayer添加到摄像机对象时，会自动关联摄像机，无需更改 videoPlayer.targetCamera。默认使用远裁剪面。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  将一个 VideoPlayer 附加到主摄像机</span></span><br><span class="line">    GameObject camera = GameObject.Find(<span class="string">&quot;Main Camera&quot;</span>);</span><br><span class="line">    videoPlayer = camera.AddComponent&lt;VideoPlayer&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">参数相关设置</font></strong></p>
<ul>
<li>videoPlayer.playOnAwake 是否自动播放</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  是否自动播放</span></span><br><span class="line">    videoPlayer.playOnAwake = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ul>
<li>videoPlayer.renderMode 渲染模式</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  渲染模式</span></span><br><span class="line">    videoPlayer.renderMode = VideoRenderMode.CameraFarPlane;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.targetTexture 设置目标渲染贴图</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> RenderTexture renderTexture;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//设置目标 渲染贴图</span></span><br><span class="line">    videoPlayer.targetTexture = renderTexture;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>videoPlayer.targetCamera 设置目标摄像机</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//设置目标摄像机</span></span><br><span class="line">    videoPlayer.targetCamera = GameObject.Find(<span class="string">&quot;Main Camera&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.targetCameraAlpha 透明度</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  透明度</span></span><br><span class="line">    videoPlayer.targetCameraAlpha = <span class="number">0.5f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.targetCamera3DLayout 以Over-Under3D格式呈现</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">    videoPlayer.targetCamera3DLayout = Video3DLayout.OverUnder3D;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.source 视频源模式设置</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  视频源</span></span><br><span class="line">    videoPlayer.source = VideoSource.VideoClip;</span><br><span class="line">    videoPlayer.clip = videoClip;</span><br><span class="line">    <span class="comment">//videoPlayer.source = VideoSource.Url;</span></span><br><span class="line">    <span class="comment">//videoPlayer.url = Application.streamingAssetsPath + &quot;/Video.mp4&quot;;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.isLooping 是否循环</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  是否循环</span></span><br><span class="line">    videoPlayer.isLooping = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">视频状态相关输出</font></strong></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  视频总时长</span></span><br><span class="line">    print(videoPlayer.length);<span class="comment">//单位为秒</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  当前时长,播放了多久</span></span><br><span class="line">    print(videoPlayer.time);<span class="comment">//单位为秒</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  总帧数</span></span><br><span class="line">    print(videoPlayer.frameCount);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  当前帧</span></span><br><span class="line">    print(videoPlayer.frame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">方法相关</font></strong></p>
<ul>
<li>videoPlayer.Play 播放</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//视频播放</span></span><br><span class="line">    videoPlayer.Play();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.Stop 停止从头播放</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//视频停止 会从头播放</span></span><br><span class="line">    videoPlayer.Stop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.Pause 暂停播放</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//视频暂停</span></span><br><span class="line">    videoPlayer.Pause();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.Prepare 为视频准备数据</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  准备函数 提前为视频准备数据</span></span><br><span class="line">    videoPlayer.Prepare();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="3">事件相关</font></strong></p>
<ul>
<li>videoPlayer.prepareCompleted 准备完成事件</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//  准备完成事件 有时可能需要准备完之后再播放 就不会卡顿</span></span><br><span class="line">videoPlayer.prepareCompleted += (v) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;准备完成&quot;</span>);</span><br><span class="line">    isPrepareCompleted = <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.started 开始事件</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//  开始事件</span></span><br><span class="line">videoPlayer.started += (v) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;当执行player播放方法后 会调用的事件&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>videoPlayer.loopPointReached 结尾事件</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//  结尾时调用事件</span></span><br><span class="line">videoPlayer.loopPointReached += (v) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;视频播放到结尾处时会调用的事件&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><font size="4">总结</font></strong></p>
<p><strong><font size="3">注意</font></strong></p>
<ul>
<li>VideoPlayer 是用于视频播放的组件</li>
<li>我们可以通过它来控制视频播放相关设置</li>
</ul>
<p><strong><font size="3">其中比较重要的参数有</font></strong></p>
<ul>
<li>渲染模式</li>
<li>播放暂停相关 API</li>
</ul>
<blockquote>
<p>视频播放时，需要有短暂的准备时间才会开始播放<br>我们可以通过 Prepare 函数来启动准备，准备完毕后再正式开始播放</p>
</blockquote>
<h2 id="全景视频"><a href="#全景视频" class="headerlink" title="全景视频"></a>全景视频</h2><p><strong><font size="4">Unity支持的全景视频</font></strong></p>
<p><strong><font size="3">等距圆柱投影布局</font></strong><br>等距圆柱投影布局（也称为球面投影、简化圆柱投影、矩形投影或普通圆柱投影）的全景视频（视频宽高比为 2:1的360度内容或1:1的180度内容）。</p>
<p><strong><font size="3">立方体贴图布局</font></strong><br>立方体贴图布局（六个正方形纹理的集合）的全景视频（视频宽高比为1:6、3:4、4:3、6:1）。</p>
<blockquote>
<p>我们可以通过视频分辨率的比值判断该全景视频为哪一种。</p>
</blockquote>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91.png" class="" title="VideoPlayer_全景视频"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>



<p><strong><font size="4">在Unity中使用全景视频</font></strong></p>
<p><strong><font size="3">导入等距圆柱投影布局的视频文件</font></strong></p>
<ul>
<li>可以观察分辨率是不是2:1进行判定</li>
<li>准备一个测试视频</li>
</ul>
<!-- 
![VideoPlayer_海景和沙滩](Videos/VideoPlayer_全景视频_海景与海滩vr360.mp4) 

<video src="/videos/VideoPlayer_全景视频_海景与海滩vr360.mp4" controls width="100%"></video>

<video controls ="10%">
  <source src="http://localhost:4000/L_Study.github.io/Videos/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E6%B5%B7%E6%99%AF%E4%B8%8E%E6%B5%B7%E6%BB%A9vr360.mp4">
</video>

-->

<p><video src="http://localhost:4000/L_Study.github.io/Videos/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E6%B5%B7%E6%99%AF%E4%B8%8E%E6%B5%B7%E6%BB%A9vr360.mp4" controls width="100%"></video></p>
<p><strong><font size="3">用Video Player以Render Texture渲染纹理播放视频</font></strong></p>
<ul>
<li>把测试视频拖动到视频源里 Video Clip</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E8%AE%BE%E7%BD%AE%E6%B8%B2%E6%9F%93%E7%BA%B9%E7%90%86.png" class="" title="VideoPlayer_全景视频_设置渲染纹理"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>

<p><strong><font size="3">创建Render Texture</font></strong></p>
<ul>
<li>拖动到Video组件上Target Texture里去</li>
</ul>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E5%88%9B%E5%BB%BARender_Texture.png" class="" title="VideoPlayer_全景视频_创建Render Texture"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>
<ul>
<li>把创建的Render Texture拖动到材质球里的Spherical（HDR）里面去</li>
</ul>
<p><strong><font size="3">设置接受渲染纹理的天空盒材质,天空盒材质的着色器使用 Skybox&gt;Panoramic</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E8%AE%BE%E7%BD%AE%E6%B8%B2%E6%9F%93%E7%BA%B9%E7%90%86%E6%9D%90%E8%B4%A8.png" class="" title="VideoPlayer_全景视频_设置渲染纹理材质"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">设置场景以使用天空盒材质</font></strong></p>
<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E6%89%93%E5%BC%80%E5%9C%BA%E6%99%AF%E8%AE%BE%E7%BD%AE.png" class="" title="VideoPlayer_全景视频_打开场景设置"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<img src="/L_Study.github.io/2025/08/25/Unity%E8%BF%9B%E9%98%B6/VideoPlayer_%E5%85%A8%E6%99%AF%E8%A7%86%E9%A2%91_%E8%AE%BE%E7%BD%AE%E5%A4%A9%E7%A9%BA%E7%9B%92.png" class="" title="VideoPlayer_全景视频_设置天空盒"  data-tag='post-image' onload='this.onload=null;this.style.opacity=1;' onerror='this.onerror=null;this.src="/L_Study.github.io/img/404.jpg"'>


<p><strong><font size="3">运行测试，尝试旋转摄像机角度</font></strong></p>
<blockquote>
<p>注意：尽量使用较高分辨率的全景视频（4K或8K），这样效果更好。但是对于一些老设备或者移动设备可能最多只能使用2K分辨率，具体根据实际情况而定。</p>
</blockquote>
<p><strong><font size="4">使用全景视频时的注意事项</font></strong></p>
<p><strong><font size="3">Render Texture渲染纹理的Size和视频尺寸一样</font></strong></p>
<ul>
<li>Render Texture渲染纹理的Size和视频尺寸一样，可以在视频预览窗口选择Source Info查看分辨率。</li>
</ul>
<p><strong><font size="3">将渲染纹理的Depth Buffer设置为No depth buffer（有版本差异）</font></strong></p>
<p><strong><font size="3">天空盒材质中</font></strong></p>
<ul>
<li>等距圆柱投影布局，将Mapping设置为Latitude Longitude Layout，根据视频时180视图还是360视图选择360 degree或者180 degree。</li>
<li>立方体贴图，将Mapping设置为6 Frames Layout。</li>
</ul>
<p><strong><font size="3">如果视频是VR视频</font></strong></p>
<ul>
<li>分为了左右双眼，我们需要将天空盒材质的3D Layout设置为Side by Side。</li>
<li>如果左右侧内容在视频中上下分部，3D Layout设置为Over Under。</li>
</ul>
<p><strong><font size="4">总结</font></strong></p>
<ul>
<li>全景视频一般在VR项目中才会使用。我们也可以使用全景视频在游戏中来制作一些动态天空盒效果。</li>
</ul>
<h2 id="Unity进阶视频播放总结"><a href="#Unity进阶视频播放总结" class="headerlink" title="Unity进阶视频播放总结"></a>Unity进阶视频播放总结</h2><p><strong><font size="4">总结</font></strong></p>
<ul>
<li>1.实验VideoPlayer播放视频时的兼容性问题</li>
<li>2.游戏中常用视频播放需求</li>
</ul>
<p><strong><font size="4">兼容性问题</font></strong></p>
<ul>
<li>当视频在目标平台或者编辑器中无法正常播放时不要着急</li>
<li>记住我们讲的格式和编解码器相关的知识点<br>H.264、H.265、VP8这3个编解码器基本能够应对<br>Windows、MacOS、IOS、Android等常用操作系统了<br>如果有特殊需求，去查找资料了解目标平台对视频编解码器的支持情况<br>选择支持的编解码处理视频即可</li>
</ul>
<p><strong><font size="4">播放需求</font></strong></p>
<ul>
<li><p>1.全屏视频<br>VideoPlayer渲染模式为摄像机相关模式</p>
</li>
<li><p>2.UI播放视频<br>VideoPlayer渲染模式为渲染纹理模式</p>
</li>
<li><p>3.全景视频<br>渲染纹理模式+天空盒材质球</p>
</li>
</ul>
<h1 id="Unity进阶TextMeshPro"><a href="#Unity进阶TextMeshPro" class="headerlink" title="Unity进阶TextMeshPro"></a>Unity进阶TextMeshPro</h1><h1 id="Unity进阶UniTask"><a href="#Unity进阶UniTask" class="headerlink" title="Unity进阶UniTask"></a>Unity进阶UniTask</h1>
</article>
    
    

</div>
<div class="trm-post-next-prev row">
    <div class="col-lg-12">
        <!-- title -->
        <h5 class="trm-title-with-divider">
            其他文章
            <span data-number="02"></span>
        </h5>
    </div>
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/L_Study.github.io/2025/08/29/Java/" class="trm-cover-frame trm-anima-link">
            
            
                <img alt="cover" class="no-fancybox" src="/L_Study.github.io/img/block.jpg">
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /L_Study.github.io/categories/Java/">
                    Java
                </a>
            </div>
            <h5>
                <a href="/L_Study.github.io/2025/08/29/Java/" class="trm-anima-link">
                    Java
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>25/08/29</li>
                <li>21:50</li>
                
                
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="col-lg-6">
    <div class="trm-blog-card trm-scroll-animation">
        <a href="/L_Study.github.io/2025/08/24/Unity%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/" class="trm-cover-frame trm-anima-link">
            
            
                <img alt="cover" class="no-fancybox" src="/L_Study.github.io/img/block.jpg">
            
        </a>
        
        <div class="trm-card-descr">
            <div class="trm-label trm-category trm-mb-20">
                <a href=" /L_Study.github.io/categories/Unity/">
                    Unity
                </a>
            </div>
            <h5>
                <a href="/L_Study.github.io/2025/08/24/Unity%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/" class="trm-anima-link">
                    Unity数据持久化
                </a>
            </h5>
            <div class="trm-divider trm-mb-20 trm-mt-20"></div>
            <ul class="trm-card-data trm-label">
                <li>25/08/24</li>
                <li>23:01</li>
                
                
            </ul>
        </div>
    </div>
</div>
    
</div>

    



                    <div class="trm-divider footer-divider"></div>

                    <!-- footer -->
                    <footer class="trm-footer-card trm-scroll-animation">

    

    

    
        <div class="trm-footer-item">
            <span>
                由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v7.3.0
            </span>
            <span class="footer-separator" data-separator=" | "></span>
            <span> 
                主题 - 
                <a rel="noopener" href='https://github.com/MaLuns/hexo-theme-async' target='_blank'>Async</a>
                v2.2.4
            </span>
        </div>
      

     

     
</footer>
                    <!-- footer end -->

                </div>
            </div>
        </div>
    </div>
</div>
            <!-- body end -->

            

    <div id="post-toc" class="trm-post-toc">
      <div class="trm-post-toc-header">
        目录导航
				<span id="post-toc-top">
					置顶
				</span>
      </div>
      <div class="trm-post-toc-content">
        <ol class="trm-toc"><li class="trm-toc-item trm-toc-level-1" title="Unity进阶"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶"><span class="trm-toc-number">1.</span> <span class="trm-toc-text">Unity进阶</span></a></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶CSharp知识补充"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶CSharp知识补充"><span class="trm-toc-number">2.</span> <span class="trm-toc-text">Unity进阶CSharp知识补充</span></a></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶ScriptableObject"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶ScriptableObject"><span class="trm-toc-number">3.</span> <span class="trm-toc-text">Unity进阶ScriptableObject</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="Unity进阶ScriptableObject概述"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶ScriptableObject概述"><span class="trm-toc-number">3.1.</span> <span class="trm-toc-text">Unity进阶ScriptableObject概述</span></a></li><li class="trm-toc-item trm-toc-level-2" title="创建ScriptableObject数据文件"><a rel="nofollow" class="trm-toc-link" href="#创建ScriptableObject数据文件"><span class="trm-toc-number">3.2.</span> <span class="trm-toc-text">创建ScriptableObject数据文件</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题"><span class="trm-toc-number">3.2.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="使用ScriptableObject数据文件"><a rel="nofollow" class="trm-toc-link" href="#使用ScriptableObject数据文件"><span class="trm-toc-number">3.3.</span> <span class="trm-toc-text">使用ScriptableObject数据文件</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-1"><span class="trm-toc-number">3.3.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="ScriptableObject数据非持久化"><a rel="nofollow" class="trm-toc-link" href="#ScriptableObject数据非持久化"><span class="trm-toc-number">3.4.</span> <span class="trm-toc-text">ScriptableObject数据非持久化</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-2"><span class="trm-toc-number">3.4.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="ScriptableObject数据持久化"><a rel="nofollow" class="trm-toc-link" href="#ScriptableObject数据持久化"><span class="trm-toc-number">3.5.</span> <span class="trm-toc-text">ScriptableObject数据持久化</span></a></li><li class="trm-toc-item trm-toc-level-2" title="配置ScriptableObject数据"><a rel="nofollow" class="trm-toc-link" href="#配置ScriptableObject数据"><span class="trm-toc-number">3.6.</span> <span class="trm-toc-text">配置ScriptableObject数据</span></a></li><li class="trm-toc-item trm-toc-level-2" title="复用ScriptableObject数据"><a rel="nofollow" class="trm-toc-link" href="#复用ScriptableObject数据"><span class="trm-toc-number">3.7.</span> <span class="trm-toc-text">复用ScriptableObject数据</span></a></li><li class="trm-toc-item trm-toc-level-2" title="ScriptableObject多态"><a rel="nofollow" class="trm-toc-link" href="#ScriptableObject多态"><span class="trm-toc-number">3.8.</span> <span class="trm-toc-text">ScriptableObject多态</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶InputSystem"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶InputSystem"><span class="trm-toc-number">4.</span> <span class="trm-toc-text">Unity进阶InputSystem</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="Unity进阶InputSystem概述"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶InputSystem概述"><span class="trm-toc-number">4.1.</span> <span class="trm-toc-text">Unity进阶InputSystem概述</span></a></li><li class="trm-toc-item trm-toc-level-2" title="导入InputSystem"><a rel="nofollow" class="trm-toc-link" href="#导入InputSystem"><span class="trm-toc-number">4.2.</span> <span class="trm-toc-text">导入InputSystem</span></a></li><li class="trm-toc-item trm-toc-level-2" title="代码检测键盘输入"><a rel="nofollow" class="trm-toc-link" href="#代码检测键盘输入"><span class="trm-toc-number">4.3.</span> <span class="trm-toc-text">代码检测键盘输入</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-3"><span class="trm-toc-number">4.3.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="代码检测鼠标输入"><a rel="nofollow" class="trm-toc-link" href="#代码检测鼠标输入"><span class="trm-toc-number">4.4.</span> <span class="trm-toc-text">代码检测鼠标输入</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-4"><span class="trm-toc-number">4.4.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="代码检测触屏输入"><a rel="nofollow" class="trm-toc-link" href="#代码检测触屏输入"><span class="trm-toc-number">4.5.</span> <span class="trm-toc-text">代码检测触屏输入</span></a></li><li class="trm-toc-item trm-toc-level-2" title="代码检测手柄输入"><a rel="nofollow" class="trm-toc-link" href="#代码检测手柄输入"><span class="trm-toc-number">4.6.</span> <span class="trm-toc-text">代码检测手柄输入</span></a></li><li class="trm-toc-item trm-toc-level-2" title="代码检测其他输入"><a rel="nofollow" class="trm-toc-link" href="#代码检测其他输入"><span class="trm-toc-number">4.7.</span> <span class="trm-toc-text">代码检测其他输入</span></a></li><li class="trm-toc-item trm-toc-level-2" title="InputAction输入操作"><a rel="nofollow" class="trm-toc-link" href="#InputAction输入操作"><span class="trm-toc-number">4.8.</span> <span class="trm-toc-text">InputAction输入操作</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-5"><span class="trm-toc-number">4.8.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="InputActions输入操作配置文件"><a rel="nofollow" class="trm-toc-link" href="#InputActions输入操作配置文件"><span class="trm-toc-number">4.9.</span> <span class="trm-toc-text">InputActions输入操作配置文件</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-6"><span class="trm-toc-number">4.9.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="InputActions文件生成C#代码"><a rel="nofollow" class="trm-toc-link" href="#InputActions文件生成C-代码"><span class="trm-toc-number">4.10.</span> <span class="trm-toc-text">InputActions文件生成C#代码</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-7"><span class="trm-toc-number">4.10.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="PlayerInput玩家输入组件"><a rel="nofollow" class="trm-toc-link" href="#PlayerInput玩家输入组件"><span class="trm-toc-number">4.11.</span> <span class="trm-toc-text">PlayerInput玩家输入组件</span></a></li><li class="trm-toc-item trm-toc-level-2" title="PlayerInput组件行为执行模式"><a rel="nofollow" class="trm-toc-link" href="#PlayerInput组件行为执行模式"><span class="trm-toc-number">4.12.</span> <span class="trm-toc-text">PlayerInput组件行为执行模式</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-3" title="练习题"><a rel="nofollow" class="trm-toc-link" href="#练习题-8"><span class="trm-toc-number">4.12.1.</span> <span class="trm-toc-text">练习题</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-2" title="PlayerInputManager玩家输入管理组件"><a rel="nofollow" class="trm-toc-link" href="#PlayerInputManager玩家输入管理组件"><span class="trm-toc-number">4.13.</span> <span class="trm-toc-text">PlayerInputManager玩家输入管理组件</span></a></li><li class="trm-toc-item trm-toc-level-2" title="InputSystem支持UGUI"><a rel="nofollow" class="trm-toc-link" href="#InputSystem支持UGUI"><span class="trm-toc-number">4.14.</span> <span class="trm-toc-text">InputSystem支持UGUI</span></a></li><li class="trm-toc-item trm-toc-level-2" title="InputDebug输入调试器"><a rel="nofollow" class="trm-toc-link" href="#InputDebug输入调试器"><span class="trm-toc-number">4.15.</span> <span class="trm-toc-text">InputDebug输入调试器</span></a></li><li class="trm-toc-item trm-toc-level-2" title="获取任意键输入的信息"><a rel="nofollow" class="trm-toc-link" href="#获取任意键输入的信息"><span class="trm-toc-number">4.16.</span> <span class="trm-toc-text">获取任意键输入的信息</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶VideoPlayer（视频播放）"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶VideoPlayer（视频播放）"><span class="trm-toc-number">5.</span> <span class="trm-toc-text">Unity进阶VideoPlayer（视频播放）</span></a><ol class="trm-toc-child"><li class="trm-toc-item trm-toc-level-2" title="视频格式和编解码器"><a rel="nofollow" class="trm-toc-link" href="#视频格式和编解码器"><span class="trm-toc-number">5.1.</span> <span class="trm-toc-text">视频格式和编解码器</span></a></li><li class="trm-toc-item trm-toc-level-2" title="Unity中的视频兼容性"><a rel="nofollow" class="trm-toc-link" href="#Unity中的视频兼容性"><span class="trm-toc-number">5.2.</span> <span class="trm-toc-text">Unity中的视频兼容性</span></a></li><li class="trm-toc-item trm-toc-level-2" title="视频资源参数"><a rel="nofollow" class="trm-toc-link" href="#视频资源参数"><span class="trm-toc-number">5.3.</span> <span class="trm-toc-text">视频资源参数</span></a></li><li class="trm-toc-item trm-toc-level-2" title="VideoPlayer视频播放器"><a rel="nofollow" class="trm-toc-link" href="#VideoPlayer视频播放器"><span class="trm-toc-number">5.4.</span> <span class="trm-toc-text">VideoPlayer视频播放器</span></a></li><li class="trm-toc-item trm-toc-level-2" title="全景视频"><a rel="nofollow" class="trm-toc-link" href="#全景视频"><span class="trm-toc-number">5.5.</span> <span class="trm-toc-text">全景视频</span></a></li><li class="trm-toc-item trm-toc-level-2" title="Unity进阶视频播放总结"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶视频播放总结"><span class="trm-toc-number">5.6.</span> <span class="trm-toc-text">Unity进阶视频播放总结</span></a></li></ol></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶TextMeshPro"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶TextMeshPro"><span class="trm-toc-number">6.</span> <span class="trm-toc-text">Unity进阶TextMeshPro</span></a></li><li class="trm-toc-item trm-toc-level-1" title="Unity进阶UniTask"><a rel="nofollow" class="trm-toc-link" href="#Unity进阶UniTask"><span class="trm-toc-number">7.</span> <span class="trm-toc-text">Unity进阶UniTask</span></a></li></ol>
      </div>
    </div>

            
<div class="trm-fixed-container">
    
        <div class="trm-fixed-btn post-toc-btn" data-title="目录">
            <i class="iconfont fas fa-th-list"></i>
        </div>
    
    
        <div class="trm-fixed-btn" data-title="阅读模式" onclick="asyncFun.switchReadMode()">
            <i class="iconfont fas fa-book-reader"></i>
        </div>
    
    
        <div class="trm-fixed-btn hidden-md" data-title="单栏和双栏切换" onclick="asyncFun.switchSingleColumn()">
            <i class="iconfont fas fa-arrows-alt-h"></i>
        </div>
    
    <div id="trm-back-top" class="trm-fixed-btn" data-title="回到顶部">
        <i class="iconfont fas fa-arrow-up"></i>
    </div>
</div>
        </div>
      </div>
      <!-- scroll container end -->
  </div>
  <!-- app wrapper end -->

  
  <!-- Plugin -->




    
    
<script src="https://unpkg.com/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>

    

    
        <script src="/L_Study.github.io/js/plugins/typing.js?v=2.2.4"></script>
    

    

    <!-- 数学公式 -->
    

    <!-- 评论插件 -->
    
        

        
    

		




    <!-- Service Worker -->
    
    <!-- baidu push -->
    


<script id="async-script" src="/L_Study.github.io/js/main.js?v=2.2.4"></script>

<!-- CDN -->


    

    

    



</body>

</html>